<html>
<head>
<title>FCSys.Subregions</title>
<meta name="title" content="Modelica fuel cell library">
<meta name="keywords" content="fuel cell library, FCSys, fuel cell, PEM, proton exchange membrane, polymer exchange membrane, PEMFC, Modelica, Dymola, open-source, electrochemistry">
<meta name="date" content="2013-7-2">
<meta name="description" content="Control volumes with multi-species transport, exchange, and storage">
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="stylesheets/ModelicaDoc.css">
<link rel="shortcut icon" href="../Resources/Documentation/favicon.ico">
<script type="text/javascript" src="javascripts/analytics.js"></script>
</head>
<body>
<div class="sidebar">
  <div class="sidebarwrapper">
  <a href="index.html"><p class="sidebar-title">FCSys</p></a>
  <p class="logo"><a href="index.html">
    <img src="images/icon.gif" class="logo" alt="Logo" width=150>
  </a></p>

<h3>Table of Contents</h3>

    <ul>
    <li><a href="FCSys_UsersGuide.html">User's Guide</a></li>
    <li><a href="FCSys_Blocks.html">Blocks</a></li>
    <li><a href="FCSys_Conditions.html">Conditions</a></li>
    <li><a href="FCSys_Assemblies.html">Assemblies</a></li>
    <li><a href="FCSys_Regions.html">Regions</a></li>
    <li><a href="FCSys_Subregions.html">Subregions</a></li>
    <li><a href="FCSys_Connectors.html">Connectors</a></li>
    <li><a href="FCSys_Characteristics.html">Characteristics</a></li>
    <li><a href="FCSys_Units.html">Units</a></li>
    <li><a href="FCSys_Quantities.html">Quantities</a></li>
    <li><a href="FCSys_BaseClasses.html">BaseClasses</a></li>
    </ul>

  <h3>Download</h3>
    <ul>
      <li><a href="https://github.com/kdavies4/FCSys/zipball/release" rel="nofollow">Latest version</a> (**Empty; please check back soon or contact kdavies4 at gmail.com.)</li>
    </ul>
  </div>
</div>

<div class="document">
  <div class="documentwrapper">
    <div class="bodywrapper">
      <div class="body">

<h2><a name="FCSys.Subregions"></a><a href="index.html#FCSys">FCSys</a>.Subregions</h2>

<b>Control volumes with multi-species transport, exchange, and storage</b>

<h3>Information</h3>

<p><b>Licensed by the Georgia Tech Research Corporation under the Modelica License 2</b><br>
Copyright 2007&ndash;2012, Georgia Tech Research Corporation.</p>

<p><i>This Modelica package is <u>free</u> software and the use is completely at <u>your own risk</u>;
it can be redistributed and/or modified under the terms of the Modelica License 2. For license conditions (including the
disclaimer of warranty) see <a href="FCSys_UsersGuide.html#FCSys.UsersGuide.ModelicaLicense2">
FCSys.UsersGuide.ModelicaLicense2</a> or visit <a href="http://www.modelica.org/licenses/ModelicaLicense2">
http://www.modelica.org/licenses/ModelicaLicense2</a>.</i></p>
<p>
Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.Package.html#Modelica.Icons.Package">Modelica.Icons.Package</a> (Icon for standard packages).

<h3>Package Content</h3>

<table border=1 cellspacing=0 cellpadding=2 >
<tr><th>Name</th><th>Description</th></tr>
<tr><td><img src="images/FCSys.Subregions.ExamplesS.png" alt="FCSys.Subregions.Examples" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">Examples</a>
</td><td>Examples</td></tr>
<tr><td><img src="images/FCSys.Subregions.SubregionS.png" alt="FCSys.Subregions.Subregion" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">Subregion</a>
</td><td>Subregion with all phases</td></tr>
<tr><td><img src="images/FCSys.Subregions.SubregionS.png" alt="FCSys.Subregions.SubregionIonomerOnly" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions.html#FCSys.Subregions.SubregionIonomerOnly">SubregionIonomerOnly</a>
</td><td>Subregion with only the ionomer phase</td></tr>
<tr><td><img src="images/FCSys.Subregions.SubregionS.png" alt="FCSys.Subregions.SubregionNoIonomer" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions.html#FCSys.Subregions.SubregionNoIonomer">SubregionNoIonomer</a>
</td><td>Subregion with all phases except ionomer</td></tr>
<tr><td><img src="images/FCSys.Subregions.PhasesS.png" alt="FCSys.Subregions.Phases" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases">Phases</a>
</td><td>Phases or mixtures of species</td></tr>
<tr><td><img src="images/FCSys.Subregions.PhasesS.png" alt="FCSys.Subregions.Species" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Species.html#FCSys.Subregions.Species">Species</a>
</td><td>Models for single-species, single-phase storage, transport, and exchange of material, translational momentum, and energy</td></tr>
<tr><td><img src="images/FCSys.Subregions.ChemicalExchangeS.png" alt="FCSys.Subregions.ChemicalExchange" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions.html#FCSys.Subregions.ChemicalExchange">ChemicalExchange</a>
</td><td>Model to impose stoichiometry and properties on a species in a reaction</td></tr>
<tr><td><img src="images/FCSys.Subregions.DoubleLayerS.png" alt="FCSys.Subregions.DoubleLayer" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions.html#FCSys.Subregions.DoubleLayer">DoubleLayer</a>
</td><td>Electrochemical double layer</td></tr>
<tr><td><img src="images/FCSys.Subregions.VolumeS.png" alt="FCSys.Subregions.Volume" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions.html#FCSys.Subregions.Volume">Volume</a>
</td><td>Model to establish a fixed total volume</td></tr>
<tr><td><img src="images/FCSys.Subregions.BaseClassesS.png" alt="FCSys.Subregions.BaseClasses" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_BaseClasses.html#FCSys.Subregions.BaseClasses">BaseClasses</a>
</td><td>Base classes (generally not for direct use)</td></tr>
</table>
<hr>

<h2><img src="images/FCSys.Subregions.SubregionI.png" alt="FCSys.Subregions.Subregion" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Subregion"></a><a href="FCSys_Subregions.html#FCSys.Subregions">FCSys.Subregions</a>.Subregion</h2>
<b>Subregion with all phases</b><p>
<img src="images/FCSys.Subregions.SubregionD.png" alt="FCSys.Subregions.Subregion">

<h3>Information</h3>

<p>At least one configuration must be included.  H<sub>2</sub>O gas is included by default.</p>

<p>Please see the documentation of the
   <a href="FCSys_Subregions_BaseClasses.html#FCSys.Subregions.BaseClasses.EmptySubregion">EmptySubregion</a> model.</p><p>
Extends from <a href="FCSys_Subregions_BaseClasses.html#FCSys.Subregions.BaseClasses.EmptySubregion">FCSys.Subregions.BaseClasses.EmptySubregion</a> (Base model for multi-dimensional, multi-species storage, transport, and exchange).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Geometry</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L[Axis]</td><td>{U.cm,U.cm,U.cm}</td><td>Lengths (<b>L</b>) [l]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Phases (click to edit)</td></tr>
<tr><td><a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Gas">Gas</a></td><td>gas</td><td>&nbsp;</td><td>Gas</td></tr>
<tr><td><a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Graphite">Graphite</a></td><td>graphite</td><td>&nbsp;</td><td>Graphite</td></tr>
<tr><td><a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Ionomer">Ionomer</a></td><td>ionomer</td><td>&nbsp;</td><td>Ionomer</td></tr>
<tr><td><a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Liquid">Liquid</a></td><td>liquid</td><td>&nbsp;</td><td>Liquid</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Included reactions</td></tr>
<tr><td>Boolean</td><td>inclHOR</td><td>graphite.&#39;incle-&#39; and ionome&hellip;</td><td>Hydrogen oxidation</td></tr>
<tr><td>Boolean</td><td>inclORR</td><td>graphite.&#39;incle-&#39; and ionome&hellip;</td><td>Oxygen reduction</td></tr>
<TR bgcolor="#c0c0c0"><TD colspan=4><b>Assumptions</b></td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axes with translational momentum included</td></tr>
<tr><td>Boolean</td><td>inclTransX</td><td>true</td><td>X</td></tr>
<tr><td>Boolean</td><td>inclTransY</td><td>true</td><td>Y</td></tr>
<tr><td>Boolean</td><td>inclTransZ</td><td>true</td><td>Z</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axes with faces included</td></tr>
<tr><td>Boolean</td><td>inclFacesX</td><td>true</td><td>X</td></tr>
<tr><td>Boolean</td><td>inclFacesY</td><td>true</td><td>Y</td></tr>
<tr><td>Boolean</td><td>inclFacesZ</td><td>true</td><td>Z</td></tr>
</table>
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>xNegative</td><td>Negative face along the x axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>xPositive</td><td>Positive face along the x axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>yNegative</td><td>Negative face along the y axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>yPositive</td><td>Positive face along the y axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>zNegative</td><td>Negative face along the z axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>zPositive</td><td>Positive face along the z axis</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Subregion <font color="darkgreen">&quot;Subregion with all phases&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_BaseClasses.html#FCSys.Subregions.BaseClasses.EmptySubregion">FCSys.Subregions.BaseClasses.EmptySubregion</a>(<font color="blue">final </font>hasSpecies=gas.n_spec
         + graphite.n_spec + ionomer.n_spec + liquid.n_spec &gt; 0, volume(
        n_phases=4));

  <a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Gas">Phases.Gas</a> gas(
    inclH2O=true,
    <font color="blue">final </font>n_faces=n_faces,
    <font color="blue">final </font>inclHOR=inclHOR,
    <font color="blue">final </font>inclORR=inclORR) <font color="darkgreen">&quot;Gas&quot;</font>;

  <a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Graphite">Phases.Graphite</a> graphite(
    <font color="blue">final </font>n_faces=n_faces,
    <font color="blue">final </font>inclHOR=inclHOR,
    <font color="blue">final </font>inclORR=inclORR) <font color="darkgreen">&quot;Graphite&quot;</font>;

  <a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Ionomer">Phases.Ionomer</a> ionomer(
    <font color="blue">final </font>n_faces=n_faces,
    <font color="blue">final </font>inclHOR=inclHOR,
    <font color="blue">final </font>inclORR=inclORR) <font color="darkgreen">&quot;Ionomer&quot;</font>;

  <a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Liquid">Phases.Liquid</a> liquid(<font color="blue">final </font>n_faces=n_faces) <font color="darkgreen">&quot;Liquid&quot;</font>;

  <font color="blue">parameter </font>Boolean inclHOR=graphite.'incle-'<font color="blue"> and </font>ionomer.'inclH+'<font color="blue"> and </font>gas.inclH2
    <font color="darkgreen">&quot;Hydrogen oxidation&quot;</font>;
  <font color="blue">parameter </font>Boolean inclORR=graphite.'incle-'<font color="blue"> and </font>ionomer.'inclH+'<font color="blue"> and </font>gas.inclO2<font color="blue">
       and </font>gas.inclH2O <font color="darkgreen">&quot;Oxygen reduction&quot;</font>;

  <a href="FCSys_Subregions.html#FCSys.Subregions.DoubleLayer">FCSys.Subregions.DoubleLayer</a> reaction <font color="blue">if </font>inclHOR<font color="blue"> or </font>inclORR <font color="darkgreen">
    &quot;Electrochemical reaction&quot;</font>;

<font color="blue">protected </font>
  <a href="FCSys_Connectors.html#FCSys.Connectors.PhysicalBusInternal">Connectors.PhysicalBusInternal</a> physical <font color="blue">if </font>gas.inclH2O<font color="blue"> or </font>ionomer.inclH2O<font color="blue"> or </font>
    liquid.inclH2O <font color="darkgreen">&quot;Connector for phase change&quot;</font>;

<font color="blue">equation </font>
  <font color="darkgreen">// Phase change</font>
  <font color="red">connect</font>(gas.physical, physical);
  <font color="red">connect</font>(ionomer.physical, physical);
  <font color="red">connect</font>(liquid.physical, physical);

  <font color="darkgreen">// Chemical reactions</font>
  <font color="red">connect</font>(reaction.chemical, gas.chemical);
  <font color="red">connect</font>(reaction.chemical, graphite.chemical);
  <font color="red">connect</font>(reaction.chemical, ionomer.chemical);

  <font color="darkgreen">// Phases</font>
  <font color="darkgreen">// ------</font>
  <font color="darkgreen">// Gas</font>
  <font color="red">connect</font>(gas.inertDalton, volume.inertDalton[1]);
  <font color="red">connect</font>(gas.xNegative, xNegative.gas);
  <font color="red">connect</font>(gas.xPositive, xPositive.gas);

  <font color="red">connect</font>(gas.yNegative, yNegative.gas);
  <font color="red">connect</font>(gas.yPositive, yPositive.gas);
  <font color="red">connect</font>(gas.zNegative, zNegative.gas);
  <font color="red">connect</font>(gas.zPositive, zPositive.gas);
  <font color="darkgreen">// Graphite</font>
  <font color="red">connect</font>(graphite.inertDalton, volume.inertDalton[2]);
  <font color="red">connect</font>(graphite.xNegative, xNegative.graphite);
  <font color="red">connect</font>(graphite.xPositive, xPositive.graphite);

  <font color="red">connect</font>(graphite.yNegative, yNegative.graphite);
  <font color="red">connect</font>(graphite.yPositive, yPositive.graphite);
  <font color="red">connect</font>(graphite.zNegative, zNegative.graphite);
  <font color="red">connect</font>(graphite.zPositive, zPositive.graphite);
  <font color="darkgreen">// Ionomer</font>
  <font color="red">connect</font>(ionomer.inertDalton, volume.inertDalton[3]);
  <font color="red">connect</font>(ionomer.xNegative, xNegative.ionomer);
  <font color="red">connect</font>(ionomer.xPositive, xPositive.ionomer);

  <font color="red">connect</font>(ionomer.yNegative, yNegative.ionomer);
  <font color="red">connect</font>(ionomer.yPositive, yPositive.ionomer);
  <font color="red">connect</font>(ionomer.zNegative, zNegative.ionomer);
  <font color="red">connect</font>(ionomer.zPositive, zPositive.ionomer);
  <font color="darkgreen">// Liquid</font>
  <font color="red">connect</font>(liquid.inertDalton, volume.inertDalton[4]);
  <font color="red">connect</font>(liquid.xNegative, xNegative.liquid);

  <font color="red">connect</font>(liquid.xPositive, xPositive.liquid);

  <font color="red">connect</font>(liquid.yNegative, yNegative.liquid);
  <font color="red">connect</font>(liquid.yPositive, yPositive.liquid);

  <font color="red">connect</font>(liquid.zNegative, zNegative.liquid);
  <font color="red">connect</font>(liquid.zPositive, zPositive.liquid);
<font color="blue">end </font>Subregion;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.SubregionI.png" alt="FCSys.Subregions.SubregionIonomerOnly" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.SubregionIonomerOnly"></a><a href="FCSys_Subregions.html#FCSys.Subregions">FCSys.Subregions</a>.SubregionIonomerOnly</h2>
<b>Subregion with only the ionomer phase</b><p>
<img src="images/FCSys.Subregions.SubregionIonomerOnlyD.png" alt="FCSys.Subregions.SubregionIonomerOnly">

<h3>Information</h3>

<p>At least one configuration must be included.  H<sub>2</sub>O is included by default.</p>

<p>Please see the documentation of the
   <a href="FCSys_Subregions_BaseClasses.html#FCSys.Subregions.BaseClasses.EmptySubregion">EmptySubregion</a> model.</p><p>
Extends from <a href="FCSys_Subregions_BaseClasses.html#FCSys.Subregions.BaseClasses.EmptySubregion">FCSys.Subregions.BaseClasses.EmptySubregion</a> (Base model for multi-dimensional, multi-species storage, transport, and exchange).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Geometry</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L[Axis]</td><td>{U.cm,U.cm,U.cm}</td><td>Lengths (<b>L</b>) [l]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Phases (click to edit)</td></tr>
<tr><td><a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Ionomer">Ionomer</a></td><td>ionomer</td><td>&nbsp;</td><td>Ionomer</td></tr>
<TR bgcolor="#c0c0c0"><TD colspan=4><b>Assumptions</b></td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axes with translational momentum included</td></tr>
<tr><td>Boolean</td><td>inclTransX</td><td>true</td><td>X</td></tr>
<tr><td>Boolean</td><td>inclTransY</td><td>true</td><td>Y</td></tr>
<tr><td>Boolean</td><td>inclTransZ</td><td>true</td><td>Z</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axes with faces included</td></tr>
<tr><td>Boolean</td><td>inclFacesX</td><td>true</td><td>X</td></tr>
<tr><td>Boolean</td><td>inclFacesY</td><td>true</td><td>Y</td></tr>
<tr><td>Boolean</td><td>inclFacesZ</td><td>true</td><td>Z</td></tr>
</table>
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>xNegative</td><td>Negative face along the x axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>xPositive</td><td>Positive face along the x axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>yNegative</td><td>Negative face along the y axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>yPositive</td><td>Positive face along the y axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>zNegative</td><td>Negative face along the z axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>zPositive</td><td>Positive face along the z axis</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> SubregionIonomerOnly <font color="darkgreen">&quot;Subregion with only the ionomer phase&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_BaseClasses.html#FCSys.Subregions.BaseClasses.EmptySubregion">FCSys.Subregions.BaseClasses.EmptySubregion</a>(<font color="blue">final </font>hasSpecies=ionomer.n_spec
         &gt; 0, volume(n_phases=1));

  <a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Ionomer">Phases.Ionomer</a> ionomer(
    <font color="blue">final </font>n_faces=n_faces,
    inclH2O=true,
    <font color="blue">final </font>inclHOR=false,
    <font color="blue">final </font>inclORR=false) <font color="darkgreen">&quot;Ionomer&quot;</font>;

<font color="blue">equation </font>
  <font color="darkgreen">// Ionomer</font>
  <font color="red">connect</font>(ionomer.inertDalton, volume.inertDalton[1]);
  <font color="red">connect</font>(ionomer.xNegative, xNegative.ionomer);
  <font color="red">connect</font>(ionomer.xPositive, xPositive.ionomer);
  <font color="red">connect</font>(ionomer.yNegative, yNegative.ionomer);
  <font color="red">connect</font>(ionomer.yPositive, yPositive.ionomer);
  <font color="red">connect</font>(ionomer.zNegative, zNegative.ionomer);
  <font color="red">connect</font>(ionomer.zPositive, zPositive.ionomer);
<font color="blue">end </font>SubregionIonomerOnly;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.SubregionI.png" alt="FCSys.Subregions.SubregionNoIonomer" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.SubregionNoIonomer"></a><a href="FCSys_Subregions.html#FCSys.Subregions">FCSys.Subregions</a>.SubregionNoIonomer</h2>
<b>Subregion with all phases except ionomer</b><p>
<img src="images/FCSys.Subregions.SubregionNoIonomerD.png" alt="FCSys.Subregions.SubregionNoIonomer">

<h3>Information</h3>

<p>At least one configuration must be included.  H<sub>2</sub>O gas is included by default.</p>

<p>Please see the documentation of the
   <a href="FCSys_Subregions_BaseClasses.html#FCSys.Subregions.BaseClasses.EmptySubregion">EmptySubregion</a> model.</p><p>
Extends from <a href="FCSys_Subregions_BaseClasses.html#FCSys.Subregions.BaseClasses.EmptySubregion">FCSys.Subregions.BaseClasses.EmptySubregion</a> (Base model for multi-dimensional, multi-species storage, transport, and exchange).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Geometry</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L[Axis]</td><td>{U.cm,U.cm,U.cm}</td><td>Lengths (<b>L</b>) [l]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Phases (click to edit)</td></tr>
<tr><td><a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Gas">Gas</a></td><td>gas</td><td>&nbsp;</td><td>Gas</td></tr>
<tr><td><a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Graphite">Graphite</a></td><td>graphite</td><td>&nbsp;</td><td>Graphite</td></tr>
<tr><td><a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Liquid">Liquid</a></td><td>liquid</td><td>&nbsp;</td><td>Liquid</td></tr>
<TR bgcolor="#c0c0c0"><TD colspan=4><b>Assumptions</b></td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axes with translational momentum included</td></tr>
<tr><td>Boolean</td><td>inclTransX</td><td>true</td><td>X</td></tr>
<tr><td>Boolean</td><td>inclTransY</td><td>true</td><td>Y</td></tr>
<tr><td>Boolean</td><td>inclTransZ</td><td>true</td><td>Z</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axes with faces included</td></tr>
<tr><td>Boolean</td><td>inclFacesX</td><td>true</td><td>X</td></tr>
<tr><td>Boolean</td><td>inclFacesY</td><td>true</td><td>Y</td></tr>
<tr><td>Boolean</td><td>inclFacesZ</td><td>true</td><td>Z</td></tr>
</table>
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>xNegative</td><td>Negative face along the x axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>xPositive</td><td>Positive face along the x axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>yNegative</td><td>Negative face along the y axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>yPositive</td><td>Positive face along the y axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>zNegative</td><td>Negative face along the z axis</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>zPositive</td><td>Positive face along the z axis</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> SubregionNoIonomer <font color="darkgreen">&quot;Subregion with all phases except ionomer&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_BaseClasses.html#FCSys.Subregions.BaseClasses.EmptySubregion">FCSys.Subregions.BaseClasses.EmptySubregion</a>(<font color="blue">final </font>hasSpecies=gas.n_spec
         + graphite.n_spec + liquid.n_spec &gt; 0, volume(n_phases=3));

  <a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Gas">Phases.Gas</a> gas(
    inclH2O=true,
    <font color="blue">final </font>n_faces=n_faces,
    <font color="blue">final </font>inclHOR=false,
    <font color="blue">final </font>inclORR=false) <font color="darkgreen">&quot;Gas&quot;</font>;
  <a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Graphite">Phases.Graphite</a> graphite(
    <font color="blue">final </font>n_faces=n_faces,
    <font color="blue">final </font>inclHOR=false,
    <font color="blue">final </font>inclORR=false) <font color="darkgreen">&quot;Graphite&quot;</font>;
  <a href="FCSys_Subregions_Phases.html#FCSys.Subregions.Phases.Liquid">Phases.Liquid</a> liquid(<font color="blue">final </font>n_faces=n_faces) <font color="darkgreen">&quot;Liquid&quot;</font>;

<font color="blue">protected </font>
  <a href="FCSys_Connectors.html#FCSys.Connectors.PhysicalBusInternal">Connectors.PhysicalBusInternal</a> physical <font color="darkgreen">&quot;Connector for phase change&quot;</font>;

<font color="blue">equation </font>
  <font color="darkgreen">// Phase change</font>
  <font color="red">connect</font>(physical, gas.physical);
  <font color="red">connect</font>(physical, liquid.physical);

  <font color="darkgreen">// Phases</font>
  <font color="darkgreen">// ------</font>
  <font color="darkgreen">// Gas</font>
  <font color="red">connect</font>(gas.inertDalton, volume.inertDalton[1]);
  <font color="red">connect</font>(gas.xNegative, xNegative.gas);
  <font color="red">connect</font>(gas.xPositive, xPositive.gas);
  <font color="red">connect</font>(gas.yNegative, yNegative.gas);
  <font color="red">connect</font>(gas.yPositive, yPositive.gas);
  <font color="red">connect</font>(gas.zNegative, zNegative.gas);
  <font color="red">connect</font>(gas.zPositive, zPositive.gas);
  <font color="darkgreen">// Graphite</font>
  <font color="red">connect</font>(graphite.inertDalton, volume.inertDalton[2]);
  <font color="red">connect</font>(graphite.xNegative, xNegative.graphite);
  <font color="red">connect</font>(graphite.xPositive, xPositive.graphite);
  <font color="red">connect</font>(graphite.yNegative, yNegative.graphite);
  <font color="red">connect</font>(graphite.yPositive, yPositive.graphite);
  <font color="red">connect</font>(graphite.zNegative, zNegative.graphite);
  <font color="red">connect</font>(graphite.zPositive, zPositive.graphite);
  <font color="darkgreen">// Liquid</font>
  <font color="red">connect</font>(liquid.inertDalton, volume.inertDalton[3]);
  <font color="red">connect</font>(liquid.xNegative, xNegative.liquid);
  <font color="red">connect</font>(liquid.xPositive, xPositive.liquid);
  <font color="red">connect</font>(liquid.yNegative, yNegative.liquid);
  <font color="red">connect</font>(liquid.yPositive, yPositive.liquid);
  <font color="red">connect</font>(liquid.zNegative, zNegative.liquid);
  <font color="red">connect</font>(liquid.zPositive, zPositive.liquid);
<font color="blue">end </font>SubregionNoIonomer;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.ChemicalExchangeI.png" alt="FCSys.Subregions.ChemicalExchange" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.ChemicalExchange"></a><a href="FCSys_Subregions.html#FCSys.Subregions">FCSys.Subregions</a>.ChemicalExchange</h2>
<b>Model to impose stoichiometry and properties on a species in a reaction</b><p>
<img src="images/FCSys.Subregions.ChemicalExchangeD.png" alt="FCSys.Subregions.ChemicalExchange">

<h3>Information</h3>

<p>This model is essentially an adapter between the
  <a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Chemical</a> and the
  <a href="FCSys_Connectors.html#FCSys.Connectors.ChemicalNet">ChemicalNet</a> connectors.
  It should be instantiated once for each species in
  a reaction.</p><p>
Extends from <a href="FCSys_BaseClasses_Icons_Names.html#FCSys.BaseClasses.Icons.Names.Top1">FCSys.BaseClasses.Icons.Names.Top1</a>.
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n</td><td>&nbsp;</td><td>Stoichiometric coefficient</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.MassSpecific">MassSpecific</a></td><td>m</td><td>&nbsp;</td><td>Specific mass [m/N]</td></tr>
</table>
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.ChemicalNet">ChemicalNet</a></td><td>reaction</td><td>Reaction-side connector</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Chemical</a></td><td>species</td><td>Species-side connector</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> ChemicalExchange <font color="darkgreen">
  &quot;Model to impose stoichiometry and properties on a species in a reaction&quot;</font>
  <font color="blue">extends </font><a href="FCSys_BaseClasses_Icons_Names.html#FCSys.BaseClasses.Icons.Names.Top1">FCSys.BaseClasses.Icons.Names.Top1</a>;

  <font color="blue">parameter </font>Integer n <font color="darkgreen">&quot;Stoichiometric coefficient&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.MassSpecific">Q.MassSpecific</a> m <font color="darkgreen">&quot;Specific mass&quot;</font>;

  <font color="darkgreen">// Auxiliary variables (for analysis)</font>
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Velocity">Q.Velocity</a> phi_actualStream[n_trans](<font color="blue">each </font>stateSelect=StateSelect.never)
     = <font color="red">actualStream</font>(species.phi) <font color="blue">if </font>environment.analysis <font color="darkgreen">
    &quot;Velocity of the actual stream&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.PotentialAbsolute">Q.PotentialAbsolute</a> sT_actualStream(stateSelect=StateSelect.never) = <font color="red">
    actualStream</font>(species.sT) <font color="blue">if </font>environment.analysis <font color="darkgreen">
    &quot;Specific entropy-temperature product of the actual stream&quot;</font>;

  <a href="FCSys_Connectors.html#FCSys.Connectors.ChemicalNet">Connectors.ChemicalNet</a> reaction(<font color="blue">final </font>n_trans=n_trans) <font color="darkgreen">
    &quot;Reaction-side connector&quot;</font>;
  <a href="FCSys_Connectors.html#FCSys.Connectors.Chemical">Connectors.Chemical</a> species(<font color="blue">final </font>n_trans=n_trans) <font color="darkgreen">&quot;Species-side connector&quot;</font>;

<font color="blue">protected </font>
  <font color="blue">outer </font><font color="blue">parameter </font>Integer n_trans <font color="darkgreen">
    &quot;Number of components of translational momentum&quot;</font>;
  <font color="blue">outer </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment <font color="darkgreen">&quot;Environmental conditions&quot;</font>;

<font color="blue">equation </font>
  <font color="darkgreen">// Conditions</font>
  reaction.mu = n*species.mu;
  reaction.phi = species.phi;
  reaction.sT = species.sT;

  <font color="darkgreen">// Conservation (without storage)</font>
  0 = species.Ndot + n*reaction.Ndot <font color="darkgreen">&quot;Material&quot;</font>;
  <font color="red">zeros</font>(n_trans) = reaction.mPhidot + m*<font color="red">actualStream</font>(species.phi)*species.Ndot <font color="darkgreen">
    &quot;Translational momentum&quot;</font>;
  0 = reaction.Qdot + <font color="red">actualStream</font>(species.sT)*species.Ndot <font color="darkgreen">&quot;Thermal energy&quot;</font>;
<font color="blue">end </font>ChemicalExchange;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.DoubleLayerI.png" alt="FCSys.Subregions.DoubleLayer" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.DoubleLayer"></a><a href="FCSys_Subregions.html#FCSys.Subregions">FCSys.Subregions</a>.DoubleLayer</h2>
<b>Electrochemical double layer</b><p>
<img src="images/FCSys.Subregions.DoubleLayerD.png" alt="FCSys.Subregions.DoubleLayer">

<h3>Information</h3>

<p>This model introduces the electrostatic potential associated with the diffusion of a charge
    carrier across the depletion region.  The
    potential is added to the stoichiometrically-weighted sum of the chemical potentials of the reactants and products,
    resulting in the total potential of an electrochemical reaction.
    Due to the
    equations of the charge carrier (an instance of the
    <a href="FCSys_Subregions_Species.html#FCSys.Subregions.Species.Species">Species</a> model), the electrostatic
    potential motivates the charge carrier to or from the reaction.  This has the effect
    of the Butler-Volmer equation.</p>

    <p>The quotient of the amount of material diffused across the junction and the electrostatic potential is the capacitance
    (<i>C</i> = <i>N</i>/&mu;).  It is assumed to be equal to the permittivity (&epsilon;, a parameter) times the cross-sectional
    area divided by the length (<i>C</i> = &epsilon;<i>A</i>/<i>L</i>).</p>

    <p>This model is typically instantiated for each of the two charge carriers (positive and negative)
    in an electrochemical reaction.  The chemical potential is split between the two, which
    results in a nominal charge transfer coefficient of one half
    (depending on mobility and other parameters of the <a href="FCSys_Subregions_Species.html#FCSys.Subregions.Species.Species">Species</a>
    instances for the charge carriers).</p>

    <p>If <code>transSubstrate</code> is <code>true</code>, then the translational momentum of the
    reactants is passed to the substrate through the <code>inert</code>
    connector and the products are produced at the velocity of the substrate (typically
    zero).  If it is <code>false</code>, then translational momentum is passed
    directly from the reactants to the products.</p>

    <p>Even if an initialization parameter (<i>N</i><sub>IC</sub> or &mu;<sub>IC</sub>) is not selected for explicit use,
    it may be used a guess value.</p>
    <p>
Extends from <a href="FCSys_BaseClasses_Icons_Names.html#FCSys.BaseClasses.Icons.Names.Top2">FCSys.BaseClasses.Icons.Names.Top2</a>.
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Geometry</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L</td><td>0.1*U.mm</td><td>Length [l]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Area">Area</a></td><td>A</td><td>100*U.cm^2</td><td>Cross-sectional area [l2]</td></tr>
<tr><td><a href="FCSys_BaseClasses.html#FCSys.BaseClasses.Axis">Axis</a></td><td>axis</td><td>Axis.x</td><td>Majority-minority axis</td></tr>
<tr><td><a href="FCSys_BaseClasses.html#FCSys.BaseClasses.Side">Side</a></td><td>minoritySide</td><td>&nbsp;</td><td>Side of the minority region</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Material properties</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Permittivity">Permittivity</a></td><td>epsilon</td><td>U.epsilon_0</td><td>Permittivity [N2.T2/(l3.m)]</td></tr>
<TR bgcolor="#c0c0c0"><TD colspan=4><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>transSubstrate</td><td>true</td><td>Pass translational momentum through the substrate</td></tr>
<TR bgcolor="#c0c0c0"><TD colspan=4><b>Initialization</b></td></tr>
<tr><td><a href="FCSys_Subregions_BaseClasses.html#FCSys.Subregions.BaseClasses.InitCapacitor">InitCapacitor</a></td><td>initCapacitor</td><td>InitCapacitor.SS</td><td>Method of initialization</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Amount">Amount</a></td><td>N_IC</td><td>0</td><td>Initial amount (<i>N</i><sub>IC</sub>) [N]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Potential</a></td><td>mu_IC</td><td>0</td><td>Initial potential (&mu;<sub>IC</sub>) [l2.m/(N.T2)]</td></tr>
</table>
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.ChemicalNet">ChemicalNet</a></td><td>chemical</td><td>Chemical connector</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Inert">Inert</a></td><td>inert</td><td>Interface with the substrate</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Face">Face</a></td><td>majority</td><td>Interface to the majority region</td></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Face">Face</a></td><td>minority</td><td>Far side of the minority region</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> DoubleLayer <font color="darkgreen">&quot;Electrochemical double layer&quot;</font>
  <font color="blue">import </font><a href="FCSys_BaseClasses_Utilities.html#FCSys.BaseClasses.Utilities.cartWrap">FCSys.BaseClasses.Utilities.cartWrap</a>;
  <font color="blue">import </font><a href="FCSys_BaseClasses_Utilities.html#FCSys.BaseClasses.Utilities.inSign">FCSys.BaseClasses.Utilities.inSign</a>;
  <font color="blue">extends </font><a href="FCSys_BaseClasses_Icons_Names.html#FCSys.BaseClasses.Icons.Names.Top2">FCSys.BaseClasses.Icons.Names.Top2</a>;

  <font color="darkgreen">// Geometry</font>
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> L=0.1*U.mm <font color="darkgreen">&quot;Length&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Area">Q.Area</a> A=100*U.cm^2 <font color="darkgreen">&quot;Cross-sectional area&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_BaseClasses.html#FCSys.BaseClasses.Axis">Axis</a> axis=Axis.x <font color="darkgreen">&quot;Majority-minority axis&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_BaseClasses.html#FCSys.BaseClasses.Side">Side</a> minoritySide <font color="darkgreen">&quot;Side of the minority region&quot;</font>;

  <font color="darkgreen">// Material characteristics</font>
  <font color="blue">replaceable </font><font color="blue">package</font> Data = <a href="FCSys_Characteristics_IdealGas.html#FCSys.Characteristics.IdealGas">Characteristics.IdealGas</a> <font color="blue">constrainedby </font>
    Characteristics.BaseClasses.CharacteristicEOS <font color="darkgreen">&quot;Characteristic data&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Permittivity">Q.Permittivity</a> epsilon=U.epsilon_0 <font color="darkgreen">&quot;Permittivity&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Capacitance">Q.Capacitance</a> C=epsilon*A/L <font color="darkgreen">&quot;Capacitance&quot;</font>;

  <font color="darkgreen">// Assumptions</font>
  <font color="blue">parameter </font>Boolean transSubstrate=true <font color="darkgreen">
    &quot;Pass translational momentum through the substrate&quot;</font>;

  <font color="darkgreen">// Initialization</font>
  <font color="blue">parameter </font><a href="FCSys_Subregions_BaseClasses.html#FCSys.Subregions.BaseClasses.InitCapacitor">InitCapacitor</a> initCapacitor=InitCapacitor.SS <font color="darkgreen">
    &quot;Method of initialization&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Amount">Q.Amount</a> N_IC=0 <font color="darkgreen">
    &quot;Initial amount (<i>N</i><sub>IC</sub>)&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> mu_IC=0 <font color="darkgreen">
    &quot;Initial potential (&mu;<sub>IC</sub>)&quot;</font>;

  <a href="FCSys_Quantities.html#FCSys.Quantities.Amount">Q.Amount</a> N(
    <font color="blue">final </font>start=N_IC,
    <font color="blue">final </font>fixed=false,
    stateSelect=StateSelect.prefer) <font color="darkgreen">
    &quot;Amount of material diffused from the majority to the minority side&quot;</font>;

  <a href="FCSys_Connectors.html#FCSys.Connectors.ChemicalNet">Connectors.ChemicalNet</a> chemical(<font color="blue">final </font>n_trans=n_trans,mu(<font color="blue">final </font>start=mu_IC, <font color="blue">
        final </font>fixed=false)) <font color="darkgreen">&quot;Chemical connector&quot;</font>;
  <a href="FCSys_Connectors.html#FCSys.Connectors.Inert">Connectors.Inert</a> inert(<font color="blue">final </font>n_trans=n_trans) <font color="darkgreen">&quot;Interface with the substrate&quot;</font>;
  <a href="FCSys_Connectors.html#FCSys.Connectors.Face">Connectors.Face</a> majority <font color="darkgreen">&quot;Interface to the majority region&quot;</font>;
  <a href="FCSys_Connectors.html#FCSys.Connectors.Face">Connectors.Face</a> minority <font color="darkgreen">&quot;Far side of the minority region&quot;</font>;

<font color="blue">protected </font>
  <font color="blue">outer </font><font color="blue">parameter </font>Integer n_trans <font color="darkgreen">
    &quot;Number of components of translational momentum&quot;</font>;

<font color="blue">initial </font><font color="blue">equation </font>
  <font color="blue">if </font>initCapacitor == InitCapacitor.SS<font color="blue"> then</font>
    <font color="red">der</font>(N) = 0;
  <font color="blue">elseif </font>initCapacitor == InitCapacitor.Amount<font color="blue"> then</font>
    N = N_IC;
  <font color="blue">elseif </font>initCapacitor == InitCapacitor.Potential<font color="blue"> then</font>
    chemical.mu = mu_IC;
    <font color="darkgreen">// Else there&#39;s no initial equation since</font>
    <font color="darkgreen">// initCapacitor == InitCapacitor.None.</font>
  <font color="blue">end if</font>;
<font color="blue">equation </font>
  <font color="darkgreen">// Conditions</font>
  <font color="darkgreen">// ----------</font>
  <font color="darkgreen">// Material</font>
  minority.rho = majority.rho*<font color="red">exp</font>(chemical.mu/inert.thermal.T) <font color="darkgreen">
    &quot;Integrated result of advection canceling diffusion over the entire double layer&quot;</font>;
  minority.Ndot + <font color="red">inSign</font>(minoritySide)*minority.rho*A*minority.phi[1] = 0 <font color="darkgreen">
    &quot;Advection cancels diffusion at the far side of the minority region&quot;</font>;
  C*chemical.mu = N <font color="darkgreen">&quot;Static potential is applied to the reaction&quot;</font>;
  <font color="darkgreen">//</font>
  <font color="darkgreen">// Translational</font>
  0 = majority.mPhidot[1] - <font color="red">inSign</font>(minoritySide)*<font color="red">Data.p_Tv</font>(majority.T, 1/
    majority.rho)*A <font color="darkgreen">&quot;Translational momentum balances on the majority side&quot;</font>;
  0 = minority.mPhidot[1] - <font color="red">inSign</font>(minoritySide)*<font color="red">Data.p_Tv</font>(minority.T, 1/
    minority.rho)*A <font color="darkgreen">&quot;Translational momentum balances on the minority side&quot;</font>;
  majority.mPhidot[2:3] = <font color="red">zeros</font>(2) <font color="darkgreen">&quot;No shear force on the majority side&quot;</font>;
  minority.mPhidot[2:3] = <font color="red">zeros</font>(2) <font color="darkgreen">&quot;No shear force on the minority side&quot;</font>;
  <font color="blue">if </font>transSubstrate<font color="blue"> then</font>
    chemical.phi = inert.translational.phi <font color="darkgreen">
      &quot;Products produced at the velocity of the substrate&quot;</font>;
  <font color="blue">else</font>
    chemical.mPhidot = <font color="red">zeros</font>(n_trans) <font color="darkgreen">
      &quot;Translational momentum passed directly from the reactants to the products&quot;</font>;
  <font color="blue">end if</font>;
  <font color="darkgreen">//</font>
  <font color="darkgreen">// Thermal</font>
  majority.Qdot = 0 <font color="darkgreen">&quot;No heat transfer from the majority region&quot;</font>;
  minority.Qdot = 0 <font color="darkgreen">&quot;No heat transfer from the minority region&quot;</font>;
  chemical.Qdot = 0 <font color="darkgreen">&quot;No heat transfer from the reaction stream&quot;</font>;

  <font color="darkgreen">// Conservation (excluding terms which are zero above)</font>
  <font color="red">der</font>(N)/U.s = majority.Ndot <font color="darkgreen">&quot;Material&quot;</font>;
  <font color="red">zeros</font>(n_trans) = chemical.mPhidot + inert.translational.mPhidot <font color="darkgreen">
    &quot;Translational momentum (no storage)&quot;</font>;
  0 = chemical.mu*chemical.Ndot + inert.translational.phi*inert.translational.mPhidot
     + inert.thermal.Qdot <font color="darkgreen">&quot;Energy (no storage)&quot;</font>;
<font color="blue">end </font>DoubleLayer;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.VolumeI.png" alt="FCSys.Subregions.Volume" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Volume"></a><a href="FCSys_Subregions.html#FCSys.Subregions">FCSys.Subregions</a>.Volume</h2>
<b>Model to establish a fixed total volume</b><p>
<img src="images/FCSys.Subregions.VolumeD.png" alt="FCSys.Subregions.Volume">

<h3>Information</h3>

<p>This model combines the mixtures connected to its <code>inertDalton[:]</code>
    array using additivity of volume.  An entry is added to this array each time a connection is made
    (using <code>connectorSizing</code>).  Each entry establishes a network of
    <a href="FCSys_Connectors.html#FCSys.Connectors.InertDalton">InertDalton</a> connectors.
    The species connected to each network are combined using additivity of pressure.</p>

    <p>The concept of "additivity of volume" is defined by
    <a href="http://en.wikipedia.org/wiki/Amagat's_law">Amagat's law of partial volumes</a>, which
    states that the partial extensive volumes of the components of a mixture sum to the total
    extensive volume of the mixture [<a href="FCSys_UsersGuide.html#FCSys.UsersGuide.References">Bejan2006</a>, p. 194].
    The specific or molar volumes of the species are each evaluated at the temperature and the total pressure of the
    mixture.</p>

    <p>This concept loses its physical meaning once the species are mixed [<a href="FCSys_UsersGuide.html#FCSys.UsersGuide.References">Woo1995</a>].
    If the species are truly mixed, then it is impossible to distinguish their particles and thus
    determine their partial volumes.
    Therefore, the concept is only used for distinct phases within the same subregion&mdash;not
    for species within a phase.
    For example, if a system contains a solid phase and a gas phase, then it is assumed that the
    partial volumes of the mixtures are additive and the mixtures exist at the same pressure.  Within
    a phase, the species are mixed according to Dalton's law of partial pressures (see the
    <a href="FCSys_Connectors.html#FCSys.Connectors.InertDalton">InertDalton</a> connector).</p>

        <p>Please also see the
    the documentation for the
    <a href="FCSys_Connectors.html#FCSys.Connectors">Connectors</a> package.</p><p>

<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.InertDalton">InertDalton</a></td><td>inertDalton[n_phases]</td><td>Connector for translational momentum and thermal energy</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Volume <font color="darkgreen">&quot;Model to establish a fixed total volume&quot;</font>

  <font color="darkgreen">// extends FCSys.BaseClasses.Icons.Names.Top7;</font>

  <font color="blue">outer </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Volume">Q.Volume</a> V <font color="darkgreen">&quot;Volume&quot;</font>;
  <font color="darkgreen">// The check fails if this is protected in Dymola 7.4, so</font>
  <font color="darkgreen">// HideResult=true is used instead.</font>
  <font color="blue">parameter </font>Integer n_phases(min=1) = 0 <font color="darkgreen">&quot;Number of phases&quot;</font>;
  <a href="FCSys_Connectors.html#FCSys.Connectors.InertDalton">Connectors.InertDalton</a> inertDalton[n_phases](<font color="blue">each </font>n_trans=n_trans) <font color="darkgreen">
    &quot;Connector for translational momentum and thermal energy&quot;</font>;

<font color="blue">protected </font>
  <font color="blue">outer </font><font color="blue">parameter </font>Integer n_trans <font color="darkgreen">
    &quot;Number of components of translational momentum&quot;</font>;

<font color="blue">equation </font>
  <font color="blue">if </font>n_phases &gt; 0<font color="blue"> then</font>
    <font color="blue">if </font>n_phases &gt; 1<font color="blue"> then</font>
      <font color="darkgreen">// Equal properties (KVL)</font>
      inertDalton[1:n_phases - 1].p = inertDalton[2:n_phases].p <font color="darkgreen">&quot;Pressures&quot;</font>;
      inertDalton[1:n_phases - 1].phi = inertDalton[2:n_phases].phi <font color="darkgreen">
        &quot;Velocities&quot;</font>;
      inertDalton[1:n_phases - 1].T = inertDalton[2:n_phases].T <font color="darkgreen">&quot;Temperatures&quot;</font>;
    <font color="blue">end if</font>;

    <font color="darkgreen">// Conservation (KCL)</font>
    V = <font color="red">sum</font>(inertDalton.V) <font color="darkgreen">&quot;Volume (fixed)&quot;</font>;
    <font color="red">zeros</font>(n_trans) = <font color="red">sum</font>(inertDalton[i].mPhidot <font color="blue">for </font>i<font color="blue"> in </font>1:n_phases) <font color="darkgreen">
      &quot;Translational momentum (no storage)&quot;</font>;
    0 = <font color="red">sum</font>(inertDalton.Qdot) <font color="darkgreen">&quot;Energy (no storage)&quot;</font>;
  <font color="blue">end if</font>;
<font color="blue">end </font>Volume;
</pre>
      </div>
    </div>
  </div>
</div>
<div class="footer">
  &copy; Copyright 2012&ndash;2013, Kevin Davies, Georgia Tech Research Corporation. Last updated Tue Jul  2 09:28:51 2013.
</div>
</body>
</html>
