<html>
<head>
<title>FCSys.Subregions.Examples</title>
<meta name="keywords" content="fuel cell library, FCSys, fuel cell, PEM, proton exchange membrane, polymer exchange membrance, PEMFC, Modelica, Dymola, electrochemistry">
<meta name="date" content="2013-6-5">
<meta name="description" content="Examples">
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="stylesheets/ModelicaDoc.css">
<link rel="shortcut icon" href="../resources/documentation/favicon.ico">
<script type="text/javascript" src="javascripts/analytics.js"></script>
</head>
<body>
<div class="sidebar">
  <div class="sidebarwrapper">
  <a href="index.html"><p class="sidebar-title">FCSys</p></a>
  <p class="logo"><a href="index.html">
    <img src="images/icon.gif" class="logo" alt="Logo" width=150>
  </a></p>

<h3>Table of Contents</h3>

    <ul>
    <li><a href="FCSys_UsersGuide.html">User's Guide</a></li>
    <li><a href="FCSys_Blocks.html">Blocks</a></li>
    <li><a href="FCSys_Conditions.html">Conditions</a></li>
    <li><a href="FCSys_Assemblies.html">Assemblies</a></li>
    <li><a href="FCSys_Regions.html">Regions</a></li>
    <li><a href="FCSys_Subregions.html">Subregions</a></li>
    <li><a href="FCSys_Connectors.html">Connectors</a></li>
    <li><a href="FCSys_Characteristics.html">Characteristics</a></li>
    <li><a href="FCSys_Units.html">Units</a></li>
    <li><a href="FCSys_Quantities.html">Quantities</a></li>
    <li><a href="FCSys_BaseClasses.html">BaseClasses</a></li>
    </ul>

  <h3>Download</h3>
    <ul>
      <li>Latest: <a href="release/FCSys-2.0.zip" rel="nofollow">FCSys-2.0.zip</a> (**Please check back soon or contact kdavies4 at gmail.com.)</li>
    </ul>
  </div>
</div>

<div class="document">
  <div class="documentwrapper">
    <div class="bodywrapper">
      <div class="body">

<h2><a name="FCSys.Subregions.Examples"></a><a href="FCSys_Subregions.html#FCSys.Subregions">FCSys.Subregions</a>.Examples</h2>

<b>Examples</b>

<h3>Information</h3>

Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.ExamplesPackage.html#Modelica.Icons.ExamplesPackage">Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).

<h3>Package Content</h3>

<table border=1 cellspacing=0 cellpadding=2 >
<tr><th>Name</th><th>Description</th></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SubregionS.png" alt="FCSys.Subregions.Examples.Subregion" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Subregion</a>
</td><td>Evaluate a single subregion, with H<sub>2</sub> by default</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SubregionEvaporationS.png" alt="FCSys.Subregions.Examples.SubregionEvaporation" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.SubregionEvaporation">SubregionEvaporation</a>
</td><td>**Test a subregion with the hydrogen oxidation reaction and the essential species for it (C+, C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S, e<sup>-</sup>, H<sub>2</sub>, and H<sup>+</sup>)</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SubregionEvaporationS.png" alt="FCSys.Subregions.Examples.SubregionHOR" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.SubregionHOR">SubregionHOR</a>
</td><td>Test a subregion with the hydrogen oxidation reaction and the essential species for it (C+, C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S, e<sup>-</sup>, H<sub>2</sub>, and H<sup>+</sup>)</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SubregionEvaporationS.png" alt="FCSys.Subregions.Examples.SubregionHOR2" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.SubregionHOR2">SubregionHOR2</a>
</td><td>Test a subregion with the hydrogen oxidation reaction and the essential species for it (C<sup>+</sup>, C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, e<sup>-</sup>, H<sub>2</sub>, and H<sup>+</sup>)</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SubregionEvaporationS.png" alt="FCSys.Subregions.Examples.SubregionORR" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.SubregionORR">SubregionORR</a>
</td><td>Test a subregion with the oxygen reduction reaction and the essential species for it (C+, C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S, e<sup>-</sup>, H<sub>2</sub>O, H<sup>+</sup>, and O<sub>2</sub>)</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SubregionH2PipeTestS.png" alt="FCSys.Subregions.Examples.SubregionH2PipeTest" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.SubregionH2PipeTest">SubregionH2PipeTest</a>
</td><td>&nbsp;</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SubregionH2PipeTestS.png" alt="FCSys.Subregions.Examples.Subregions" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Subregions</a>
</td><td>Test a one-dimensional array of subregions with an initial pressure gradient (H<sub>2</sub> included by default)</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SubregionH2PipeTestS.png" alt="FCSys.Subregions.Examples.SubregionsCandH2" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.SubregionsCandH2">SubregionsCandH2</a>
</td><td>Test a one-dimensional array of subregions with C and H<sub>2</sub></td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SubregionH2PipeTestS.png" alt="FCSys.Subregions.Examples.SubregionsInitialVelocity" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.SubregionsInitialVelocity">SubregionsInitialVelocity</a>
</td><td>Test a one-dimensional array of subregions with an initial pressure gradient (H<sub>2</sub> included by default)</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SubregionH2PipeTestS.png" alt="FCSys.Subregions.Examples.SubregionsZeroVelocity" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.SubregionsZeroVelocity">SubregionsZeroVelocity</a>
</td><td>&nbsp;</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SubregionsCellS.png" alt="FCSys.Subregions.Examples.SubregionsCell" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.SubregionsCell">SubregionsCell</a>
</td><td>Test a one-dimensional array of subregions</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.ThermalConductionS.png" alt="FCSys.Subregions.Examples.ThermalConduction" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.ThermalConduction">ThermalConduction</a>
</td><td>Test thermal conduction (through solid)</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.ThermalConductionS.png" alt="FCSys.Subregions.Examples.ThermalConductionConvection" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.ThermalConductionConvection">ThermalConductionConvection</a>
</td><td>Test combined thermal conduction and convection</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.ThermalConductionS.png" alt="FCSys.Subregions.Examples.TestReaction" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.TestReaction">TestReaction</a>
</td><td>Test an electrochemical reaction</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.ThermalConductionS.png" alt="FCSys.Subregions.Examples.TestSpecies" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.TestSpecies">TestSpecies</a>
</td><td>Test the Species model</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.ThermalConductionS.png" alt="FCSys.Subregions.Examples.TestSpeciesReaction" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.TestSpeciesReaction">TestSpeciesReaction</a>
</td><td>Test the Species model</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.NegativeBCS.png" alt="FCSys.Subregions.Examples.NegativeBC" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.NegativeBC">NegativeBC</a>
</td><td>&nbsp;</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.NegativeBCS.png" alt="FCSys.Subregions.Examples.PositiveBC" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.PositiveBC">PositiveBC</a>
</td><td>&nbsp;</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.NegativeBCS.png" alt="FCSys.Subregions.Examples.CurrentBC" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.CurrentBC">CurrentBC</a>
</td><td>&nbsp;</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.CatalystS.png" alt="FCSys.Subregions.Examples.Catalyst" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Catalyst">Catalyst</a>
</td><td>&nbsp;</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.BoundaryS.png" alt="FCSys.Subregions.Examples.Boundary" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Boundary">Boundary</a>
</td><td>&nbsp;</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.BoundaryS.png" alt="FCSys.Subregions.Examples.Boundary2" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Boundary2">Boundary2</a>
</td><td>&nbsp;</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.BoundaryGasS.png" alt="FCSys.Subregions.Examples.BoundaryGas" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.BoundaryGas">BoundaryGas</a>
</td><td>&nbsp;</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.BoundarySubregionS.png" alt="FCSys.Subregions.Examples.BoundarySubregion" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.BoundarySubregion">BoundarySubregion</a>
</td><td>&nbsp;</td></tr>
</table>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SubregionI.png" alt="FCSys.Subregions.Examples.Subregion" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Subregion"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Subregion</h2>
<b>Evaluate a single subregion, with H<sub>2</sub> by default</b><p>
<img src="images/FCSys.Subregions.Examples.SubregionD.png" alt="FCSys.Subregions.Examples.Subregion">

<h3>Information</h3>

Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclC19HF37O5S-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Subregion <font color="darkgreen">
  &quot;Evaluate a single subregion, with H<sub>2</sub> by default&quot;</font>

  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">parameter </font>Boolean &#39;inclC+&#39;=false <font color="darkgreen">&quot;Carbon plus (C<sup>+</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclC19HF37O5S-&#39;=false <font color="darkgreen">
    &quot;Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;incle-&#39;=false <font color="darkgreen">&quot;Electrons (e<sup>-</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclH+&#39;=false <font color="darkgreen">&quot;Protons (H<sup>+</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclH2=true <font color="darkgreen">&quot;Hydrogen (H<sub>2</sub>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclH2O=false <font color="darkgreen">&quot;Water vapor (H<sub>2</sub>O)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclN2=false <font color="darkgreen">&quot;Nitrogen (N<sub>2</sub>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclO2=false <font color="darkgreen">&quot;Oxygen (O<sub>2</sub>)&quot;</font>;

  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregion(
    L={1,1,1}*U.cm,
    gas(
      <font color="blue">final </font>inclH2=inclH2,
      <font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">final </font>inclN2=inclN2,
      <font color="blue">final </font>inclO2=inclO2),
    graphite(
      <font color="blue">final </font>&#39;inclC+&#39;='inclC+',
      <font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;C+&#39;(V_IC=subregion.V/4)),
    ionomer(
      <font color="blue">final </font>&#39;inclC19HF37O5S-&#39;='inclC19HF37O5S-',
      <font color="blue">final </font>&#39;inclH+&#39;='inclH+',
      &#39;C19HF37O5S-&#39;(V_IC=subregion.V/4)),
    liquid(H2O(V_IC=subregion.V/4)),
    inclTransY=false,
    inclTransZ=false,
    inclFacesY=false,
    inclFacesZ=false,
    inclFacesX=true);

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">FCSys.Conditions.Environment</a> environment(analysis=true);

<font color="blue">end </font>Subregion;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SubregionEvaporationI.png" alt="FCSys.Subregions.Examples.SubregionEvaporation" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.SubregionEvaporation"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.SubregionEvaporation</h2>
<b>**Test a subregion with the hydrogen oxidation reaction and the essential species for it (C+, C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S, e<sup>-</sup>, H<sub>2</sub>, and H<sup>+</sup>)</b><p>
<img src="images/FCSys.Subregions.Examples.SubregionEvaporationD.png" alt="FCSys.Subregions.Examples.SubregionEvaporation">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a> (Evaluate a single subregion, with H<sub>2</sub> by default), <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.UnderConstruction">Modelica.Icons.UnderConstruction</a>.
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclC19HF37O5S-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>true</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> SubregionEvaporation <font color="darkgreen">
  &quot;**Test a subregion with the hydrogen oxidation reaction and the essential species for it (C+, C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S, e<sup>-</sup>, H<sub>2</sub>, and H<sup>+</sup>)&quot;</font>

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a>(
    inclH2O=true,
    inclH2=false,
    subregion(
      inclFacesX=true,
      gas(H2O(initMaterial=InitScalar.None)),
      liquid(inclH2O=inclH2O)));

  <a href="FCSys_Conditions_FaceBus.html#FCSys.Conditions.FaceBus.SubregionFlows">Conditions.FaceBus.SubregionFlows</a> reactionBC(
    graphite(
      <font color="blue">final </font>&#39;inclC+&#39;='inclC+',
      <font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;e-&#39;(<font color="blue">redeclare </font><a href="FCSys_Conditions_Face_Material.html#FCSys.Conditions.Face.Material.Current">Conditions.Face.Material.Current</a> material(<font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a>
            source(duration=1000, height=0.001*U.A)))),
    ionomer(
      <font color="blue">final </font>&#39;inclC19HF37O5S-&#39;='inclC19HF37O5S-',
      <font color="blue">final </font>&#39;inclH+&#39;='inclH+',
      &#39;H+&#39;(<font color="blue">redeclare </font><a href="FCSys_Conditions_Face_Material.html#FCSys.Conditions.Face.Material.Pressure">Conditions.Face.Material.Pressure</a> material(source(k=U.atm)))),

    gas(
      <font color="blue">final </font>inclH2=inclH2,
      <font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">final </font>inclN2=inclN2,
      <font color="blue">final </font>inclO2=inclO2),
    liquid(inclH2O=inclH2O));

  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.UnderConstruction">Modelica.Icons.UnderConstruction</a>;
  <font color="darkgreen">// **fails sim</font>

<font color="blue">equation </font>
  <font color="red">connect</font>(subregion.xPositive, reactionBC.face);

<font color="blue">end </font>SubregionEvaporation;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SubregionEvaporationI.png" alt="FCSys.Subregions.Examples.SubregionHOR" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.SubregionHOR"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.SubregionHOR</h2>
<b>Test a subregion with the hydrogen oxidation reaction and the essential species for it (C+, C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S, e<sup>-</sup>, H<sub>2</sub>, and H<sup>+</sup>)</b><p>
<img src="images/FCSys.Subregions.Examples.SubregionEvaporationD.png" alt="FCSys.Subregions.Examples.SubregionHOR">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a> (Evaluate a single subregion, with H<sub>2</sub> by default), <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.UnderConstruction">Modelica.Icons.UnderConstruction</a>.
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclC19HF37O5S-&#39;</td><td>true</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>true</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>true</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> SubregionHOR <font color="darkgreen">
  &quot;Test a subregion with the hydrogen oxidation reaction and the essential species for it (C+, C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S, e<sup>-</sup>, H<sub>2</sub>, and H<sup>+</sup>)&quot;</font>

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a>(
    &#39;inclC+&#39;=true,
    &#39;inclC19HF37O5S-&#39;=true,
    &#39;incle-&#39;=true,
    &#39;inclH+&#39;=true,
    inclH2=true,
    subregion(graphite(&#39;e-&#39;(consTransX=Conservation.IC)), ionomer(&#39;H+&#39;(
            consTransX=Conservation.IC))));

  <a href="FCSys_Conditions_FaceBus.html#FCSys.Conditions.FaceBus.SubregionFlows">Conditions.FaceBus.SubregionFlows</a> reactionBC(
    graphite(
      <font color="blue">final </font>&#39;inclC+&#39;='inclC+',
      <font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;e-&#39;(<font color="blue">redeclare </font><a href="FCSys_Conditions_Face_Material.html#FCSys.Conditions.Face.Material.Current">Conditions.Face.Material.Current</a> material(<font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a>
            source(duration=1000, height=0.001*U.A)))),
    ionomer(
      <font color="blue">final </font>&#39;inclC19HF37O5S-&#39;='inclC19HF37O5S-',
      <font color="blue">final </font>&#39;inclH+&#39;='inclH+',
      &#39;H+&#39;(<font color="blue">redeclare </font><a href="FCSys_Conditions_Face_Material.html#FCSys.Conditions.Face.Material.Pressure">Conditions.Face.Material.Pressure</a> material(source(k=U.atm)))),

    gas(
      <font color="blue">final </font>inclH2=inclH2,
      <font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">final </font>inclN2=inclN2,
      <font color="blue">final </font>inclO2=inclO2));

  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.UnderConstruction">Modelica.Icons.UnderConstruction</a>;
  <font color="darkgreen">// **fails sim</font>

<font color="blue">equation </font>
  <font color="red">connect</font>(subregion.xPositive, reactionBC.face);

<font color="blue">end </font>SubregionHOR;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SubregionEvaporationI.png" alt="FCSys.Subregions.Examples.SubregionHOR2" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.SubregionHOR2"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.SubregionHOR2</h2>
<b>Test a subregion with the hydrogen oxidation reaction and the essential species for it (C<sup>+</sup>, C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, e<sup>-</sup>, H<sub>2</sub>, and H<sup>+</sup>)</b><p>
<img src="images/FCSys.Subregions.Examples.SubregionHOR2D.png" alt="FCSys.Subregions.Examples.SubregionHOR2">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a> (Evaluate a single subregion, with H<sub>2</sub> by default), <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.UnderConstruction">Modelica.Icons.UnderConstruction</a>.
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclC19HF37O5S-&#39;</td><td>true</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>true</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>true</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> SubregionHOR2 <font color="darkgreen">
  &quot;Test a subregion with the hydrogen oxidation reaction and the essential species for it (C<sup>+</sup>, C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, e<sup>-</sup>, H<sub>2</sub>, and H<sup>+</sup>)&quot;</font>

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a>(
    &#39;inclC+&#39;=true,
    &#39;inclC19HF37O5S-&#39;=true,
    &#39;incle-&#39;=true,
    &#39;inclH+&#39;=true,
    inclH2=true);

  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.UnderConstruction">Modelica.Icons.UnderConstruction</a>;
  <font color="darkgreen">// **fails sim</font>

<font color="blue">end </font>SubregionHOR2;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SubregionEvaporationI.png" alt="FCSys.Subregions.Examples.SubregionORR" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.SubregionORR"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.SubregionORR</h2>
<b>Test a subregion with the oxygen reduction reaction and the essential species for it (C+, C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S, e<sup>-</sup>, H<sub>2</sub>O, H<sup>+</sup>, and O<sub>2</sub>)</b><p>
<img src="images/FCSys.Subregions.Examples.SubregionORRD.png" alt="FCSys.Subregions.Examples.SubregionORR">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.SubregionHOR">Examples.SubregionHOR</a> (Test a subregion with the hydrogen oxidation reaction and the essential species for it (C+, C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S, e<sup>-</sup>, H<sub>2</sub>, and H<sup>+</sup>)).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclC19HF37O5S-&#39;</td><td>true</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>true</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>true</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>true</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>true</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> SubregionORR <font color="darkgreen">
  &quot;Test a subregion with the oxygen reduction reaction and the essential species for it (C+, C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S, e<sup>-</sup>, H<sub>2</sub>O, H<sup>+</sup>, and O<sub>2</sub>)&quot;</font>

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.SubregionHOR">Examples.SubregionHOR</a>(
    inclH2=false,
    inclH2O=true,
    inclO2=true);

<font color="blue">end </font>SubregionORR;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SubregionH2PipeTestI.png" alt="FCSys.Subregions.Examples.SubregionH2PipeTest" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.SubregionH2PipeTest"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.SubregionH2PipeTest</h2>
<img src="images/FCSys.Subregions.Examples.SubregionH2PipeTestD.png" alt="FCSys.Subregions.Examples.SubregionH2PipeTest">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a> (Evaluate a single subregion, with H<sub>2</sub> by default).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclC19HF37O5S-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> SubregionH2PipeTest
  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a>(subregion(L={100,1,1}*U.mm), condition1(gas(H2(<font color="blue">
            redeclare </font>FCSys.Conditions.Face.Material.Density normal(<font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a>
              source(height=U.C/U.cc, offset=298.15*U.K/U.atm))))));

<font color="blue">end </font>SubregionH2PipeTest;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SubregionH2PipeTestI.png" alt="FCSys.Subregions.Examples.Subregions" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Subregions"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Subregions</h2>
<b>Test a one-dimensional array of subregions with an initial pressure gradient (H<sub>2</sub> included by default)</b><p>
<img src="images/FCSys.Subregions.Examples.SubregionsD.png" alt="FCSys.Subregions.Examples.Subregions">

<h3>Information</h3>

Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>0</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions (<i>n<i><sub>x</sub>)</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>100*U.Pa</td><td>Initial pressure difference (&Delta;<i>p</i><sub>IC</sub>) [m/(l.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclC19HF37O5S-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Subregions <font color="darkgreen">
  &quot;Test a one-dimensional array of subregions with an initial pressure gradient (H<sub>2</sub> included by default)&quot;</font>
  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="darkgreen">// **Update and use BC from Conditions package for this and derived examples.</font>
  <font color="blue">parameter </font>Integer n_x=0 <font color="darkgreen">
    &quot;Number of discrete subregions along the x axis, besides the 2 side subregions (<i>n<i><sub>x</sub>)&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap_IC=100*U.Pa <font color="darkgreen">
    &quot;Initial pressure difference (&Delta;<i>p</i><sub>IC</sub>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclC+&#39;=false <font color="darkgreen">&quot;Carbon plus (C<sup>+</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclC19HF37O5S-&#39;=false <font color="darkgreen">
    &quot;Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;incle-&#39;=false <font color="darkgreen">&quot;Electrons (e<sup>-</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclH2=true <font color="darkgreen">&quot;Hydrogen (H<sub>2</sub>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclH2O=false <font color="darkgreen">&quot;Water vapor (H<sub>2</sub>O)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclH+&#39;=false <font color="darkgreen">&quot;Protons (H<sup>+</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclN2=false <font color="darkgreen">&quot;Nitrogen (N<sub>2</sub>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclO2=false <font color="darkgreen">&quot;Oxygen (O<sub>2</sub>)&quot;</font>;

  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregion1(
    L={10,10,10}*U.mm,
    gas(
      <font color="blue">final </font>inclH2=inclH2,
      <font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">final </font>inclN2=inclN2,
      <font color="blue">final </font>inclO2=inclO2,
      H2O(p_IC=environment.p + Deltap_IC/2),
      N2(p_IC=environment.p + Deltap_IC/2),
      O2(p_IC=environment.p + Deltap_IC/2),
      H2(p_IC=environment.p + Deltap_IC/2)),
    graphite(
      <font color="blue">final </font>&#39;inclC+&#39;='inclC+',
      <font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;C+&#39;(
        V_IC=subregion1.V/1000,
        consTransX=Conservation.IC,
        consTransY=Conservation.IC,
        consTransZ=Conservation.IC)),
    ionomer(
      <font color="blue">final </font>&#39;inclC19HF37O5S-&#39;='inclC19HF37O5S-',
      <font color="blue">final </font>&#39;inclH+&#39;='inclH+',
      &#39;C19HF37O5S-&#39;(V_IC=subregion1.V/1000)),
    liquid(H2O(V_IC=subregion1.V/4)),
    inclFacesY=false,
    inclFacesZ=false,
    inclTransY=false,
    inclTransZ=false);

  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregions[n_x](
    <font color="blue">each </font>L={10,10,10}*U.mm,
    gas(
      <font color="blue">each </font><font color="blue">final </font>inclH2=inclH2,
      <font color="blue">each </font><font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">each </font><font color="blue">final </font>inclN2=inclN2,
      <font color="blue">each </font><font color="blue">final </font>inclO2=inclO2,
      H2(p_IC={environment.p + Deltap_IC/2 - i*Deltap_IC/(n_x + 1) <font color="blue">for </font>i<font color="blue"> in </font>1:
            n_x}),
      H2O(p_IC=subregions.gas.H2.p_IC),
      N2(p_IC=subregions.gas.H2.p_IC),
      O2(p_IC=subregions.gas.H2.p_IC)),
    graphite(
      <font color="blue">each </font><font color="blue">final </font>&#39;inclC+&#39;='inclC+',
      <font color="blue">each </font><font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;C+&#39;(<font color="blue">each </font>V_IC=subregions[1].V/1000)),
    ionomer(
      <font color="blue">each </font><font color="blue">final </font>&#39;inclC19HF37O5S-&#39;='inclC19HF37O5S-',
      <font color="blue">each </font><font color="blue">final </font>&#39;inclH+&#39;='inclH+',
      &#39;C19HF37O5S-&#39;(<font color="blue">each </font>V_IC=subregions[1].V/1000)),
    liquid(H2O(V_IC=subregions[1].V/4)),
    <font color="blue">each </font>inclTransY=false,
    <font color="blue">each </font>inclTransZ=false,
    <font color="blue">each </font>inclFacesY=false,
    <font color="blue">each </font>inclFacesZ=false) <font color="blue">if </font>n_x &gt; 0;

  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregion2(
    L={10,10,10}*U.mm,
    gas(
      <font color="blue">final </font>inclH2=inclH2,
      <font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">final </font>inclN2=inclN2,
      <font color="blue">final </font>inclO2=inclO2,
      H2O(p_IC=environment.p - Deltap_IC/2),
      N2(p_IC=environment.p - Deltap_IC/2),
      O2(p_IC=environment.p - Deltap_IC/2),
      H2(p_IC=environment.p - Deltap_IC/2)),
    graphite(
      <font color="blue">final </font>&#39;inclC+&#39;='inclC+',
      <font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;C+&#39;(
        V_IC=subregion2.V/1000,
        initTransX=InitTranslational.None,
        initTransY=InitTranslational.None,
        initTransZ=InitTranslational.None)),
    ionomer(
      <font color="blue">final </font>&#39;inclC19HF37O5S-&#39;='inclC19HF37O5S-',
      <font color="blue">final </font>&#39;inclH+&#39;='inclH+',
      &#39;C19HF37O5S-&#39;(V_IC=subregion2.V/1000)),
    liquid(H2O(V_IC=subregion2.V/4)),
    inclFacesY=false,
    inclFacesZ=false,
    inclTransY=false,
    inclTransZ=false);

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">FCSys.Conditions.Environment</a> environment(analysis=true);

  <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.BoundarySubregion">BoundarySubregion</a> boundarySubregion;
  <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.BoundarySubregion">BoundarySubregion</a> boundarySubregion1;
<font color="blue">equation </font>
  <font color="red">connect</font>(subregion1.xPositive, subregions[1].xNegative);

  <font color="blue">for </font>i<font color="blue"> in </font>1:n_x - 1<font color="blue"> loop</font>
    <font color="red">connect</font>(subregions[i].xPositive, subregions[i + 1].xNegative) <font color="darkgreen">
      &quot;Not shown on the diagram&quot;</font>;
  <font color="blue">end for</font>;
  <font color="blue">if </font>n_x == 0<font color="blue"> then</font>
    <font color="red">connect</font>(subregion1.xPositive, subregion2.xNegative) <font color="darkgreen">
      &quot;Not shown on the diagram&quot;</font>;
  <font color="blue">end if</font>;
  <font color="red">connect</font>(subregions[n_x].xPositive, subregion2.xNegative);
  <font color="red">connect</font>(boundarySubregion.face, subregion2.xPositive);

  <font color="red">connect</font>(boundarySubregion1.face, subregion1.xNegative);

<font color="blue">end </font>Subregions;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SubregionH2PipeTestI.png" alt="FCSys.Subregions.Examples.SubregionsCandH2" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.SubregionsCandH2"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.SubregionsCandH2</h2>
<b>Test a one-dimensional array of subregions with C and H<sub>2</sub></b><p>
<img src="images/FCSys.Subregions.Examples.SubregionsD.png" alt="FCSys.Subregions.Examples.SubregionsCandH2">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Examples.Subregions</a> (Test a one-dimensional array of subregions with an initial pressure gradient (H<sub>2</sub> included by default)).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>0</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions (<i>n<i><sub>x</sub>)</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>100*U.Pa</td><td>Initial pressure difference (&Delta;<i>p</i><sub>IC</sub>) [m/(l.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclC19HF37O5S-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> SubregionsCandH2 <font color="darkgreen">
  &quot;Test a one-dimensional array of subregions with C and H<sub>2</sub>&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Examples.Subregions</a>(&#39;inclC+&#39;=true);

<font color="blue">end </font>SubregionsCandH2;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SubregionH2PipeTestI.png" alt="FCSys.Subregions.Examples.SubregionsInitialVelocity" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.SubregionsInitialVelocity"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.SubregionsInitialVelocity</h2>
<b>Test a one-dimensional array of subregions with an initial pressure gradient (H<sub>2</sub> included by default)</b><p>
<img src="images/FCSys.Subregions.Examples.SubregionsD.png" alt="FCSys.Subregions.Examples.SubregionsInitialVelocity">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Subregions</a> (Test a one-dimensional array of subregions with an initial pressure gradient (H<sub>2</sub> included by default)).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>0</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions (<i>n<i><sub>x</sub>)</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>0</td><td>Initial pressure difference (&Delta;<i>p</i><sub>IC</sub>) [m/(l.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclC19HF37O5S-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> SubregionsInitialVelocity <font color="darkgreen">
  &quot;Test a one-dimensional array of subregions with an initial pressure gradient (H<sub>2</sub> included by default)&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Subregions</a>(Deltap_IC=0,subregion1(gas(phi_IC={1,0,0}*U.cm/U.s)));

<font color="blue">end </font>SubregionsInitialVelocity;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SubregionH2PipeTestI.png" alt="FCSys.Subregions.Examples.SubregionsZeroVelocity" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.SubregionsZeroVelocity"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.SubregionsZeroVelocity</h2>
<img src="images/FCSys.Subregions.Examples.SubregionsD.png" alt="FCSys.Subregions.Examples.SubregionsZeroVelocity">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Subregions</a> (Test a one-dimensional array of subregions with an initial pressure gradient (H<sub>2</sub> included by default)).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>0</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions (<i>n<i><sub>x</sub>)</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>100*U.Pa</td><td>Initial pressure difference (&Delta;<i>p</i><sub>IC</sub>) [m/(l.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclC19HF37O5S-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> SubregionsZeroVelocity
  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Subregions</a>(subregion1(gas(initVelX=false,H2(initTransX=
              InitTranslational.Velocity, consTransX=Conservation.IC))),
      subregion2(gas(initVelX=false, H2(initTransX=InitTranslational.Velocity,
            consTransX=Conservation.IC))));

<font color="blue">end </font>SubregionsZeroVelocity;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SubregionsCellI.png" alt="FCSys.Subregions.Examples.SubregionsCell" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.SubregionsCell"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.SubregionsCell</h2>
<b>Test a one-dimensional array of subregions</b><p>
<img src="images/FCSys.Subregions.Examples.SubregionsCellD.png" alt="FCSys.Subregions.Examples.SubregionsCell">

<h3>Information</h3>

Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.UnderConstruction">Modelica.Icons.UnderConstruction</a>.
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>1</td><td>Number of discrete regions through the PEM along the x axis</td></tr>
<tr><td><a href="FCSys_Conditions_FaceBus.html#FCSys.Conditions.FaceBus.SubregionFlows">SubregionFlows</a></td><td>condition1</td><td>redeclare FCSys.Conditions.F&hellip;</td><td>&nbsp;</td></tr>
<tr><td><a href="FCSys_Conditions_FaceBus.html#FCSys.Conditions.FaceBus.SubregionFlows">SubregionFlows</a></td><td>condition2</td><td>redeclare FCSys.Conditions.F&hellip;</td><td>&nbsp;</td></tr>
<tr><td><a href="FCSys_Conditions_FaceBus.html#FCSys.Conditions.FaceBus.SubregionFlows">SubregionFlows</a></td><td>ground</td><td>redeclare FCSys.Conditions.F&hellip;</td><td>&nbsp;</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> SubregionsCell <font color="darkgreen">&quot;Test a one-dimensional array of subregions&quot;</font>
  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;
  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.UnderConstruction">Modelica.Icons.UnderConstruction</a>;

  <font color="blue">parameter </font>Integer n_x=1 <font color="darkgreen">
    &quot;Number of discrete regions through the PEM along the x axis&quot;</font>;

  <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Subregion</a> subregion1(
    L={1,1,1}*U.cm,
    gas(
      inclH2=true,
      inclH2O=false,
      inclN2=false,
      inclO2=false,
      H2O(
        yNegative(inviscidX=true),
        yPositive(inviscidX=true),
        zNegative(inviscidX=true),
        zPositive(inviscidX=true)),
      H2(
        p_IC=1.05*environment.p,
        yNegative(inviscidX=true),
        yPositive(inviscidX=true),
        zNegative(inviscidX=true),
        zPositive(inviscidX=true))),
    graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      &#39;C+&#39;(V_IC=subregion1.V/4),
      &#39;e-&#39;(
        yNegative(inviscidX=true),
        yPositive(inviscidX=true),
        zNegative(inviscidX=true),
        zPositive(inviscidX=true))),
    ionomer(
      &#39;inclC19HF37O5S-&#39;=true,
      &#39;inclH+&#39;=true,
      &#39;C19HF37O5S-&#39;(V_IC=subregion1.V/4),
      &#39;H+&#39;(
        yNegative(inviscidX=true),
        yPositive(inviscidX=true),
        zNegative(inviscidX=true),
        zPositive(inviscidX=true))),
    inclTransY=false,
    inclTransZ=false,
    inclFacesY=false,
    inclFacesZ=false);

  <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Subregion</a> subregions[n_x](
    <font color="blue">each </font>L={1,1,1}*U.cm,
    gas(<font color="blue">each </font>inclH2O=false),
    ionomer(
      <font color="blue">each </font>&#39;inclC19HF37O5S-&#39;=true,
      <font color="blue">each </font>&#39;inclH+&#39;=true,
      &#39;C19HF37O5S-&#39;(<font color="blue">each </font>V_IC=subregions[1].V/4),
      &#39;H+&#39;(
        <font color="blue">each </font>yNegative(inviscidX=true),
        <font color="blue">each </font>yPositive(inviscidX=true),
        <font color="blue">each </font>zNegative(inviscidX=true),
        <font color="blue">each </font>zPositive(inviscidX=true))),
    <font color="blue">each </font>inclTransY=false,
    <font color="blue">each </font>inclTransZ=false,
    <font color="blue">each </font>inclFacesY=false,
    <font color="blue">each </font>inclFacesZ=false) <font color="blue">if </font>n_x &gt; 0;

  <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Subregion</a> subregion2(
    L={1,1,1}*U.cm,
    gas(
      inclH2=false,
      inclH2O=true,
      inclN2=false,
      inclO2=true,
      H2O(
        p_IC=0.95*environment.p,
        yNegative(inviscidX=true),
        yPositive(inviscidX=true),
        zNegative(inviscidX=true),
        zPositive(inviscidX=true)),
      N2(
        p_IC=0.95*environment.p,
        yNegative(inviscidX=true),
        yPositive(inviscidX=true),
        zNegative(inviscidX=true),
        zPositive(inviscidX=true)),
      O2(
        p_IC=0.95*environment.p,
        yNegative(inviscidX=true),
        yPositive(inviscidX=true),
        zNegative(inviscidX=true),
        zPositive(inviscidX=true))),
    graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      &#39;C+&#39;(V_IC=subregion2.V/4),
      &#39;e-&#39;(
        yNegative(inviscidX=true),
        yPositive(inviscidX=true),
        zNegative(inviscidX=true),
        zPositive(inviscidX=true))),
    ionomer(
      &#39;inclC19HF37O5S-&#39;=true,
      &#39;inclH+&#39;=true,
      &#39;C19HF37O5S-&#39;(V_IC=subregion2.V/4),
      &#39;H+&#39;(
        yNegative(inviscidX=true),
        yPositive(inviscidX=true),
        zNegative(inviscidX=true),
        zPositive(inviscidX=true))),
    inclTransY=false,
    inclTransZ=false,
    inclFacesY=false,
    inclFacesZ=false);

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">FCSys.Conditions.Environment</a> environment(analysis=true);
  <font color="blue">replaceable </font><a href="FCSys_Conditions_FaceBus.html#FCSys.Conditions.FaceBus.SubregionFlows">FCSys.Conditions.FaceBus.SubregionFlows</a> condition1 <font color="blue">constrainedby </font>
    FCSys.Conditions.FaceBus.Subregion(gas(
      inclH2=true,
      inclH2O=false,
      inclN2=false,
      inclO2=false), graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      &#39;C+&#39;(<font color="blue">redeclare </font><a href="FCSys_Conditions_Face_Thermal.html#FCSys.Conditions.Face.Thermal.Temperature">FCSys.Conditions.Face.Thermal.Temperature</a> thermal(source(k
              =environment.T))),
      &#39;e-&#39;(<font color="blue">redeclare </font><a href="FCSys_Conditions_Face_Material.html#FCSys.Conditions.Face.Material.Current">FCSys.Conditions.Face.Material.Current</a> normal(<font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a>
            source(duration=1000, height=-2*U.A)))));

  <font color="blue">replaceable </font><a href="FCSys_Conditions_FaceBus.html#FCSys.Conditions.FaceBus.SubregionFlows">FCSys.Conditions.FaceBus.SubregionFlows</a> condition2 <font color="blue">constrainedby </font>
    FCSys.Conditions.FaceBus.Subregion(gas(
      inclH2=false,
      inclH2O=true,
      inclN2=false,
      inclO2=true), graphite(
      &#39;inclC+&#39;=true,
      &#39;incle-&#39;=true,
      &#39;C+&#39;(<font color="blue">redeclare </font><a href="FCSys_Conditions_Face_Thermal.html#FCSys.Conditions.Face.Thermal.Temperature">FCSys.Conditions.Face.Thermal.Temperature</a> thermal(source(k
              =environment.T))),
      &#39;e-&#39;(<font color="blue">redeclare </font><a href="FCSys_Conditions_Face_Material.html#FCSys.Conditions.Face.Material.Current">FCSys.Conditions.Face.Material.Current</a> normal(<font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a>
            source(duration=1000, height=2*U.A)))));

  <font color="blue">replaceable </font><a href="FCSys_Conditions_FaceBus.html#FCSys.Conditions.FaceBus.SubregionFlows">FCSys.Conditions.FaceBus.SubregionFlows</a> ground(graphite(&#39;incle-&#39;=true,
        &#39;e-&#39;(<font color="blue">redeclare </font><a href="FCSys_Conditions_Face_Material.html#FCSys.Conditions.Face.Material.Pressure">Conditions.Face.Material.Pressure</a> material, materialSpec(
            k=0)))) <font color="blue">constrainedby </font>Conditions.FaceBus.Subregion;

<font color="blue">equation </font>
  <font color="red">connect</font>(condition1.face, subregion1.xNegative);
  <font color="red">connect</font>(subregion1.xPositive, subregions[1].xNegative);

  <font color="blue">for </font>i<font color="blue"> in </font>1:n_x - 1<font color="blue"> loop</font>
    <font color="red">connect</font>(subregions[i].xPositive, subregions[i + 1].xNegative) <font color="darkgreen">
      &quot;Not shown on the diagram&quot;</font>;
  <font color="blue">end for</font>;
  <font color="blue">if </font>n_x == 0<font color="blue"> then</font>
    <font color="red">connect</font>(subregion1.xPositive, subregion2.xNegative) <font color="darkgreen">
      &quot;Not shown on the diagram&quot;</font>;
  <font color="blue">end if</font>;
  <font color="red">connect</font>(subregions[n_x].xPositive, subregion2.xNegative);
  <font color="red">connect</font>(condition2.face, subregion2.xPositive);

  <font color="red">connect</font>(ground.face, subregion1.xNegative);
<font color="blue">end </font>SubregionsCell;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.ThermalConductionI.png" alt="FCSys.Subregions.Examples.ThermalConduction" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.ThermalConduction"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.ThermalConduction</h2>
<b>Test thermal conduction (through solid)</b><p>
<img src="images/FCSys.Subregions.Examples.ThermalConductionD.png" alt="FCSys.Subregions.Examples.ThermalConduction">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Examples.Subregions</a> (Test a one-dimensional array of subregions with an initial pressure gradient (H<sub>2</sub> included by default)).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>8</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions (<i>n<i><sub>x</sub>)</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>100*U.Pa</td><td>Initial pressure difference (&Delta;<i>p</i><sub>IC</sub>) [m/(l.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclC19HF37O5S-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> ThermalConduction <font color="darkgreen">&quot;Test thermal conduction (through solid)&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Examples.Subregions</a>(
    n_x=8,
    &#39;inclC+&#39;=true,
    inclH2=false,
    subregion1(graphite(&#39;C+&#39;(
          initMaterial=InitScalar.Pressure,
          V_IC=0.99*subregion1.V,
          T_IC=1.1*environment.T,
          T(displayUnit=&quot;degC&quot;)))),
    subregions(graphite(&#39;C+&#39;(
          <font color="blue">each </font>initMaterial=InitScalar.Pressure,
          <font color="blue">each </font>V_IC=0.99*subregions[1].V,
          <font color="blue">each </font>T(displayUnit=&quot;degC&quot;)))),
    subregion2(graphite(&#39;C+&#39;(
          initMaterial=InitScalar.Pressure,
          V_IC=0.99*subregion2.V,
          T(displayUnit=&quot;degC&quot;)))),
    <font color="blue">redeclare </font>FCSys.Conditions.FaceBus.SubregionClosedAdiabatic condition1,
    <font color="blue">redeclare </font>FCSys.Conditions.FaceBus.SubregionClosedAdiabatic condition2);

<font color="blue">end </font>ThermalConduction;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.ThermalConductionI.png" alt="FCSys.Subregions.Examples.ThermalConductionConvection" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.ThermalConductionConvection"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.ThermalConductionConvection</h2>
<b>Test combined thermal conduction and convection</b><p>
<img src="images/FCSys.Subregions.Examples.ThermalConductionD.png" alt="FCSys.Subregions.Examples.ThermalConductionConvection">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Examples.Subregions</a> (Test a one-dimensional array of subregions with an initial pressure gradient (H<sub>2</sub> included by default)).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>8</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions (<i>n<i><sub>x</sub>)</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>100*U.Pa</td><td>Initial pressure difference (&Delta;<i>p</i><sub>IC</sub>) [m/(l.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclC19HF37O5S-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>true</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> ThermalConductionConvection <font color="darkgreen">
  &quot;Test combined thermal conduction and convection&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Examples.Subregions</a>(
    n_x=8,
    &#39;inclC+&#39;=true,
    inclH2=false,
    inclN2=true,
    subregion1(gas(N2(
          T_IC=1.1*environment.T,
          p_IC=environment.p,
          phi(displayUnit=&quot;mm/s&quot;))), graphite(&#39;C+&#39;(
          V_IC=0.5*subregion1.V,
          T_IC=1.1*environment.T,
          T(displayUnit=&quot;degC&quot;)))),
    subregions(gas(N2(<font color="blue">each </font>p_IC=environment.p, phi(<font color="blue">each </font>displayUnit=&quot;mm/s&quot;))),
        graphite(&#39;C+&#39;(<font color="blue">each </font>V_IC=0.5*subregions[1].V, <font color="blue">each </font>T(displayUnit=&quot;degC&quot;)))),

    subregion2(gas(N2(p_IC=environment.p, phi(displayUnit=&quot;mm/s&quot;))), graphite(
          &#39;C+&#39;(V_IC=0.5*subregion2.V, T(displayUnit=&quot;degC&quot;)))),
    <font color="blue">redeclare </font>FCSys.Conditions.FaceBus.SubregionClosedAdiabatic condition1,
    <font color="blue">redeclare </font>FCSys.Conditions.FaceBus.SubregionClosedAdiabatic condition2);

<font color="blue">end </font>ThermalConductionConvection;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.ThermalConductionI.png" alt="FCSys.Subregions.Examples.TestReaction" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.TestReaction"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.TestReaction</h2>
<b>Test an electrochemical reaction</b><p>
<img src="images/FCSys.Subregions.Examples.TestReactionD.png" alt="FCSys.Subregions.Examples.TestReaction">

<h3>Information</h3>

Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#c0c0c0"><TD colspan=4><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>transMomCat</td><td>false</td><td>Pass translational momentum through the catalyst</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axes with translational momentum included</td></tr>
<tr><td>Boolean</td><td>inclTransX</td><td>true</td><td>X</td></tr>
<tr><td>Boolean</td><td>inclTransY</td><td>true</td><td>Y</td></tr>
<tr><td>Boolean</td><td>inclTransZ</td><td>true</td><td>Z</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> TestReaction <font color="darkgreen">&quot;Test an electrochemical reaction&quot;</font>
  <font color="blue">import </font><a href="FCSys_BaseClasses_Utilities.html#FCSys.BaseClasses.Utilities.countTrue">FCSys.BaseClasses.Utilities.countTrue</a>;
  <font color="blue">import </font><a href="FCSys_BaseClasses_Utilities.html#FCSys.BaseClasses.Utilities.index">FCSys.BaseClasses.Utilities.index</a>;
  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="darkgreen">// **Use BCs from Conditions package.</font>
  <font color="blue">parameter </font>Boolean transMomCat=false <font color="darkgreen">
    &quot;Pass translational momentum through the catalyst&quot;</font>;

  FCSys.Subregions.Reaction2 reaction(n_spec=3, transMomCat=transMomCat);

  <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.NegativeBC">NegativeBC</a> negBC(m=1*U.g/U.mol);
  <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.PositiveBC">PositiveBC</a> posBC(m=1*U.g/U.mol);

  <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Catalyst">FCSys.Subregions.Examples.Catalyst</a> catalyst(transMomCat=transMomCat);
  <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.CurrentBC">CurrentBC</a> currentBC(m=4*U.g/U.mol);
  <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Boundary">Boundary</a> bC1;
  <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Boundary">Boundary</a> bC2;

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(analysis=true);
  <font color="darkgreen">// Included components of translational momentum</font>
  <font color="blue">parameter </font>Boolean inclTransX=true <font color="darkgreen">&quot;X&quot;</font>;
  <font color="blue">parameter </font>Boolean inclTransY=true <font color="darkgreen">&quot;Y&quot;</font>;
  <font color="blue">parameter </font>Boolean inclTransZ=true <font color="darkgreen">&quot;Z&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Boolean inclTrans[Axis]={inclTransX,inclTransY,
      inclTransZ} <font color="darkgreen">
    &quot;true, if each component of translational momentum is included&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Integer cartTrans[n_trans]=<font color="red">index</font>(inclTrans) <font color="darkgreen">
    &quot;Cartesian-axis indices of the components of translational momentum&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Integer n_trans=<font color="red">countTrue</font>(inclTrans) <font color="darkgreen">
    &quot;Number of components of translational momentum&quot;</font>;

<font color="blue">equation </font>
  <font color="red">connect</font>(negBC.chemical, reaction.chemical[1]);
  <font color="red">connect</font>(currentBC.chemical, reaction.chemical[2]);

  <font color="red">connect</font>(posBC.chemical, reaction.chemical[3]);
  <font color="red">connect</font>(bC1.face, reaction.negative);
  <font color="red">connect</font>(bC2.face, reaction.positive);

  <font color="red">connect</font>(catalyst.inert, reaction.catalyst);
<font color="blue">end </font>TestReaction;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.ThermalConductionI.png" alt="FCSys.Subregions.Examples.TestSpecies" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.TestSpecies"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.TestSpecies</h2>
<b>Test the Species model</b><p>
<img src="images/FCSys.Subregions.Examples.TestSpeciesD.png" alt="FCSys.Subregions.Examples.TestSpecies">

<h3>Information</h3>

Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Subregions_Species.html#FCSys.Subregions.Species.Species">Species</a></td><td>species</td><td>redeclare FCSys.Subregions.S&hellip;</td><td>&nbsp;</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Geometry</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L[Axis]</td><td>{U.cm,U.cm,U.cm}</td><td>Length (<b>L</b>) [l]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>k[Axis]</td><td>{1,1,1}</td><td>Area fill factor (<b>k</b>) [1]</td></tr>
<TR bgcolor="#c0c0c0"><TD colspan=4><b>Assumptions</b></td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axes with translational momentum included</td></tr>
<tr><td>Boolean</td><td>inclTransX</td><td>true</td><td>X</td></tr>
<tr><td>Boolean</td><td>inclTransY</td><td>false</td><td>Y</td></tr>
<tr><td>Boolean</td><td>inclTransZ</td><td>true</td><td>Z</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> TestSpecies <font color="darkgreen">&quot;Test the Species model&quot;</font>
  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">import </font><a href="FCSys_BaseClasses_Utilities.html#FCSys.BaseClasses.Utilities.cartWrap">FCSys.BaseClasses.Utilities.cartWrap</a>;
  <font color="blue">import </font><a href="FCSys_BaseClasses_Utilities.html#FCSys.BaseClasses.Utilities.countTrue">FCSys.BaseClasses.Utilities.countTrue</a>;
  <font color="blue">import </font><a href="FCSys_BaseClasses_Utilities.html#FCSys.BaseClasses.Utilities.enumerate">FCSys.BaseClasses.Utilities.enumerate</a>;
  <font color="blue">import </font><a href="FCSys_BaseClasses_Utilities.html#FCSys.BaseClasses.Utilities.index">FCSys.BaseClasses.Utilities.index</a>;
  <font color="darkgreen">// extends FCSys.BaseClasses.Icons.Names.Top3;</font>

  <font color="darkgreen">// Geometric parameters</font>
  <font color="blue">inner </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> L[Axis](<font color="blue">each </font>min=Modelica.Constants.small) = {U.cm,U.cm,
    U.cm} <font color="darkgreen">&quot;Length (<b>L</b>)&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Volume">Q.Volume</a> V=<font color="red">product</font>(L) <font color="darkgreen">&quot;Volume&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> k[Axis](
    <font color="blue">each </font>min=Modelica.Constants.small,
    <font color="blue">each </font><font color="blue">final </font>nominal=1) = {1,1,1} <font color="darkgreen">&quot;Area fill factor (<b>k</b>)&quot;</font>;

  <font color="darkgreen">// Assumptions</font>
  <font color="darkgreen">// -----------</font>
  <font color="darkgreen">// Included components of translational momentum</font>
  <font color="blue">parameter </font>Boolean inclTransX=true <font color="darkgreen">&quot;X&quot;</font>;
  <font color="blue">parameter </font>Boolean inclTransY=false <font color="darkgreen">&quot;Y&quot;</font>;
  <font color="blue">parameter </font>Boolean inclTransZ=true <font color="darkgreen">&quot;Z&quot;</font>;

  <font color="blue">replaceable </font><a href="FCSys_Subregions_Species.html#FCSys.Subregions.Species.Species">FCSys.Subregions.Species.Species</a> species(<font color="blue">redeclare </font><font color="blue">package</font> Data
      = <a href="FCSys_Characteristics_H2_Gas.html#FCSys.Characteristics.H2.Gas">FCSys.Characteristics.H2.Gas</a>) <font color="blue">constrainedby </font>
    FCSys.Subregions.Species.Species;

<font color="blue">protected </font>
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> Lprime[:]=k .* A ./ L <font color="darkgreen">
    &quot;Effective cross-sectional area per length&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Area">Q.Area</a> A[Axis]={L[<font color="red">cartWrap</font>(axis + 1)]*L[<font color="red">cartWrap</font>(axis +
      2)] <font color="blue">for </font>axis<font color="blue"> in </font>Axis} <font color="darkgreen">&quot;Cross-sectional areas&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Boolean inclTrans[Axis]={inclTransX,inclTransY,
      inclTransZ} <font color="darkgreen">
    &quot;true, if each component of translational momentum is included&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Integer n_trans=<font color="red">countTrue</font>(inclTrans) <font color="darkgreen">
    &quot;Number of components of translational momentum&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Integer cartTrans[:]=<font color="red">index</font>(inclTrans) <font color="darkgreen">
    &quot;Cartesian-axis indices of the components of translational momentum&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Integer transCart[Axis]=<font color="red">enumerate</font>(inclTrans) <font color="darkgreen">
    &quot;Translational-momentum-component indices of the Cartesian axes&quot;</font>;

  <a href="FCSys_Subregions.html#FCSys.Subregions.Volume">Volume</a> volume <font color="darkgreen">&quot;Model to establish a fixed total volume&quot;</font>;
  PhaseBoundary phaseBoundary <font color="darkgreen">&quot;Phase boundary&quot;</font>;

<font color="blue">public </font>
  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(analysis=true);

<font color="blue">equation </font>
  species.reaction.axis = 1;
  species.reaction.Ndot_0 = 1e-6*U.A;
  <font color="red">connect</font>(phaseBoundary.inertAmagat, volume.inert);
  <font color="red">connect</font>(species.inertDalton, phaseBoundary.inertDalton);
<font color="blue">end </font>TestSpecies;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.ThermalConductionI.png" alt="FCSys.Subregions.Examples.TestSpeciesReaction" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.TestSpeciesReaction"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.TestSpeciesReaction</h2>
<b>Test the Species model</b><p>
<img src="images/FCSys.Subregions.Examples.TestSpeciesReactionD.png" alt="FCSys.Subregions.Examples.TestSpeciesReaction">

<h3>Information</h3>

Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Subregions_Species_H2_Gas.html#FCSys.Subregions.Species.H2.Gas.Fixed">Fixed</a></td><td>H2</td><td>redeclare Species.H2.Gas.Fix&hellip;</td><td>&nbsp;</td></tr>
<tr><td><a href="FCSys_Subregions_Species_'e-'_Graphite.html#FCSys.Subregions.Species.'e-'.Graphite.Fixed">Fixed</a></td><td>&#39;e-&#39;</td><td>redeclare Species.&#39;e-&#39;.Graph&hellip;</td><td>&nbsp;</td></tr>
<tr><td><a href="FCSys_Subregions_Species_'H+'_Ionomer.html#FCSys.Subregions.Species.'H+'.Ionomer.Fixed">Fixed</a></td><td>&#39;H+&#39;</td><td>redeclare FCSys.Subregions.S&hellip;</td><td>&nbsp;</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Geometry</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L[Axis]</td><td>{U.cm,U.cm,U.cm}</td><td>Length (<b>L</b>) [l]</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">NumberAbsolute</a></td><td>k[Axis]</td><td>{1,1,1}</td><td>Area fill factor (<b>k</b>) [1]</td></tr>
<TR bgcolor="#c0c0c0"><TD colspan=4><b>Assumptions</b></td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axes with translational momentum included</td></tr>
<tr><td>Boolean</td><td>inclTransX</td><td>true</td><td>X</td></tr>
<tr><td>Boolean</td><td>inclTransY</td><td>false</td><td>Y</td></tr>
<tr><td>Boolean</td><td>inclTransZ</td><td>true</td><td>Z</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> TestSpeciesReaction <font color="darkgreen">&quot;Test the Species model&quot;</font>
  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">import </font><a href="FCSys_BaseClasses_Utilities.html#FCSys.BaseClasses.Utilities.cartWrap">FCSys.BaseClasses.Utilities.cartWrap</a>;
  <font color="blue">import </font><a href="FCSys_BaseClasses_Utilities.html#FCSys.BaseClasses.Utilities.countTrue">FCSys.BaseClasses.Utilities.countTrue</a>;
  <font color="blue">import </font><a href="FCSys_BaseClasses_Utilities.html#FCSys.BaseClasses.Utilities.enumerate">FCSys.BaseClasses.Utilities.enumerate</a>;
  <font color="blue">import </font><a href="FCSys_BaseClasses_Utilities.html#FCSys.BaseClasses.Utilities.index">FCSys.BaseClasses.Utilities.index</a>;
  <font color="darkgreen">// extends FCSys.BaseClasses.Icons.Names.Top3;</font>

  <font color="darkgreen">// Geometric parameters</font>
  <font color="blue">inner </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> L[Axis](<font color="blue">each </font>min=Modelica.Constants.small) = {U.cm,U.cm,
    U.cm} <font color="darkgreen">&quot;Length (<b>L</b>)&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Volume">Q.Volume</a> V=<font color="red">product</font>(L) <font color="darkgreen">&quot;Volume&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.NumberAbsolute">Q.NumberAbsolute</a> k[Axis](
    <font color="blue">each </font>min=Modelica.Constants.small,
    <font color="blue">each </font><font color="blue">final </font>nominal=1) = {1,1,1} <font color="darkgreen">&quot;Area fill factor (<b>k</b>)&quot;</font>;

  <font color="darkgreen">// Assumptions</font>
  <font color="darkgreen">// -----------</font>
  <font color="darkgreen">// Included components of translational momentum</font>
  <font color="blue">parameter </font>Boolean inclTransX=true <font color="darkgreen">&quot;X&quot;</font>;
  <font color="blue">parameter </font>Boolean inclTransY=false <font color="darkgreen">&quot;Y&quot;</font>;
  <font color="blue">parameter </font>Boolean inclTransZ=true <font color="darkgreen">&quot;Z&quot;</font>;

  <font color="blue">replaceable </font><a href="FCSys_Subregions_Species_H2_Gas.html#FCSys.Subregions.Species.H2.Gas.Fixed">Species.H2.Gas.Fixed</a> H2 <font color="blue">constrainedby </font>
    FCSys.Subregions.Species.Species;

<font color="blue">protected </font>
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> Lprime[:]=k .* A ./ L <font color="darkgreen">
    &quot;Effective cross-sectional area per length&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Area">Q.Area</a> A[Axis]={L[<font color="red">cartWrap</font>(axis + 1)]*L[<font color="red">cartWrap</font>(axis +
      2)] <font color="blue">for </font>axis<font color="blue"> in </font>Axis} <font color="darkgreen">&quot;Cross-sectional areas&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Boolean inclTrans[Axis]={inclTransX,inclTransY,
      inclTransZ} <font color="darkgreen">
    &quot;true, if each component of translational momentum is included&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Integer n_trans=<font color="red">countTrue</font>(inclTrans) <font color="darkgreen">
    &quot;Number of components of translational momentum&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Integer cartTrans[:]=<font color="red">index</font>(inclTrans) <font color="darkgreen">
    &quot;Cartesian-axis indices of the components of translational momentum&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Integer transCart[Axis]=<font color="red">enumerate</font>(inclTrans) <font color="darkgreen">
    &quot;Translational-momentum-component indices of the Cartesian axes&quot;</font>;

  <a href="FCSys_Subregions.html#FCSys.Subregions.Volume">Volume</a> volume <font color="darkgreen">&quot;Model to establish a fixed total volume&quot;</font>;
  PhaseBoundary phaseBoundary <font color="darkgreen">&quot;Phase boundary&quot;</font>;

<font color="blue">public </font>
  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(analysis=true);

  <font color="blue">replaceable </font><a href="FCSys_Subregions_Species_'e-'_Graphite.html#FCSys.Subregions.Species.'e-'.Graphite.Fixed">Species.'e-'.Graphite.Fixed</a> &#39;e-&#39; <font color="blue">constrainedby </font>
    FCSys.Subregions.Species.Species;
  <font color="blue">replaceable </font><a href="FCSys_Subregions_Species_'H+'_Ionomer.html#FCSys.Subregions.Species.'H+'.Ionomer.Fixed">FCSys.Subregions.Species.'H+'.Ionomer.Fixed</a> &#39;H+&#39; <font color="blue">constrainedby </font>
    FCSys.Subregions.Species.Species;
  FCSys.Subregions.Reaction2 reaction(n_neut=1,n_trans=2);

<font color="blue">equation </font>
  <font color="red">connect</font>(volume.inertAmagat, phaseBoundary.inertAmagat);
  <font color="red">connect</font>(H2.inertDalton, phaseBoundary.inertDalton);
  <font color="red">connect</font>('e-'.inertDalton, phaseBoundary.inertDalton);

  <font color="red">connect</font>('H+'.inertDalton, phaseBoundary.inertDalton);

  <font color="red">connect</font>(reaction.chemical[1], H2.reaction);
  <font color="red">connect</font>(reaction.positive, 'H+'.reaction);
  <font color="red">connect</font>(reaction.negative, 'e-'.reaction);
<font color="blue">end </font>TestSpeciesReaction;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.NegativeBCI.png" alt="FCSys.Subregions.Examples.NegativeBC" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.NegativeBC"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.NegativeBC</h2>
<img src="images/FCSys.Subregions.Examples.NegativeBCD.png" alt="FCSys.Subregions.Examples.NegativeBC">
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>String</td><td>formula</td><td>&quot;e-&quot;</td><td>&nbsp;</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.MassSpecific">MassSpecific</a></td><td>m</td><td>U.g/U.mol</td><td>[m/N]</td></tr>
<tr><td>Integer</td><td>n_trans</td><td>3</td><td>Number of components of translational momentum</td></tr>
</table>
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.ChemicalSpecies">ChemicalSpecies</a></td><td>chemical</td><td>&nbsp;</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> NegativeBC
  <font color="blue">parameter </font>String formula=&quot;e-&quot;;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.MassSpecific">Q.MassSpecific</a> m=U.g/U.mol;
  <font color="blue">parameter </font>Integer n_trans=3 <font color="darkgreen">&quot;Number of components of translational momentum&quot;</font>;

  <a href="FCSys_Connectors.html#FCSys.Connectors.ChemicalSpecies">Connectors.ChemicalSpecies</a> chemical(
    <font color="blue">final </font>formula=formula,
    <font color="blue">final </font>m=m,
    <font color="blue">final </font>n_trans=n_trans);

<font color="blue">equation </font>
  chemical.mu = 0;
  chemical.phi = <font color="red">ones</font>(n_trans);
  chemical.sT = 1;
<font color="blue">end </font>NegativeBC;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.NegativeBCI.png" alt="FCSys.Subregions.Examples.PositiveBC" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.PositiveBC"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.PositiveBC</h2>
<img src="images/FCSys.Subregions.Examples.NegativeBCD.png" alt="FCSys.Subregions.Examples.PositiveBC">
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>String</td><td>formula</td><td>&quot;H+&quot;</td><td>&nbsp;</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.MassSpecific">MassSpecific</a></td><td>m</td><td>U.g/U.mol</td><td>[m/N]</td></tr>
<tr><td>Integer</td><td>n_trans</td><td>3</td><td>Number of components of translational momentum</td></tr>
</table>
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.ChemicalSpecies">ChemicalSpecies</a></td><td>chemical</td><td>&nbsp;</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> PositiveBC
  <font color="blue">parameter </font>String formula=&quot;H+&quot;;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.MassSpecific">Q.MassSpecific</a> m=U.g/U.mol;
  <font color="blue">parameter </font>Integer n_trans=3 <font color="darkgreen">&quot;Number of components of translational momentum&quot;</font>;

  <a href="FCSys_Connectors.html#FCSys.Connectors.ChemicalSpecies">Connectors.ChemicalSpecies</a> chemical(
    <font color="blue">final </font>formula=formula,
    <font color="blue">final </font>m=m,
    <font color="blue">final </font>n_trans=n_trans);

<font color="blue">equation </font>
  chemical.mu = 1.2*U.V;
  chemical.phi = <font color="red">ones</font>(n_trans);
  chemical.sT = 1;

<font color="blue">end </font>PositiveBC;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.NegativeBCI.png" alt="FCSys.Subregions.Examples.CurrentBC" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.CurrentBC"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.CurrentBC</h2>
<img src="images/FCSys.Subregions.Examples.CurrentBCD.png" alt="FCSys.Subregions.Examples.CurrentBC">
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>String</td><td>formula</td><td>&quot;H2&quot;</td><td>&nbsp;</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.MassSpecific">MassSpecific</a></td><td>m</td><td>U.g/U.mol</td><td>[m/N]</td></tr>
<tr><td>Integer</td><td>n_trans</td><td>3</td><td>Number of components of translational momentum</td></tr>
</table>
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.ChemicalSpecies">ChemicalSpecies</a></td><td>chemical</td><td>&nbsp;</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> CurrentBC
  <font color="blue">parameter </font>String formula=&quot;H2&quot;;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.MassSpecific">Q.MassSpecific</a> m=U.g/U.mol;
  <font color="blue">parameter </font>Integer n_trans=3 <font color="darkgreen">&quot;Number of components of translational momentum&quot;</font>;

  <a href="FCSys_Connectors.html#FCSys.Connectors.ChemicalSpecies">Connectors.ChemicalSpecies</a> chemical(
    <font color="blue">final </font>formula=formula,
    <font color="blue">final </font>m=m,
    <font color="blue">final </font>n_trans=n_trans);

  <a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> source(height=100*U.A, duration=100);

<font color="blue">equation </font>
  chemical.Ndot = source.y;
  chemical.phi = <font color="red">ones</font>(n_trans);
  chemical.sT = 3;
<font color="blue">end </font>CurrentBC;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.CatalystI.png" alt="FCSys.Subregions.Examples.Catalyst" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Catalyst"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Catalyst</h2>
<img src="images/FCSys.Subregions.Examples.CatalystD.png" alt="FCSys.Subregions.Examples.Catalyst">
<p>
<h3>Parameters</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_trans</td><td>3</td><td>Number of components of translational momentum</td></tr>
<TR bgcolor="#c0c0c0"><TD colspan=4><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>transMomCat</td><td>true</td><td>Pass translational momentum through the catalyst</td></tr>
</table>
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Inert">Inert</a></td><td>inert</td><td>&nbsp;</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Catalyst
  <font color="blue">parameter </font>Integer n_trans=3 <font color="darkgreen">&quot;Number of components of translational momentum&quot;</font>;
  <font color="blue">parameter </font>Boolean transMomCat=true <font color="darkgreen">
    &quot;Pass translational momentum through the catalyst&quot;</font>;

  <a href="FCSys_Connectors.html#FCSys.Connectors.Inert">Connectors.Inert</a> inert(<font color="blue">final </font>n_trans=n_trans, translational(phi=<font color="red">zeros</font>(n_trans)));

<font color="blue">equation </font>
  inert.thermal.T = 360*U.K;
<font color="blue">end </font>Catalyst;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.BoundaryI.png" alt="FCSys.Subregions.Examples.Boundary" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Boundary"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Boundary</h2>
<img src="images/FCSys.Subregions.Examples.BoundaryD.png" alt="FCSys.Subregions.Examples.Boundary">
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Face">Face</a></td><td>face</td><td>&nbsp;</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Boundary

  <a href="FCSys_Connectors.html#FCSys.Connectors.Face">Connectors.Face</a> face;

<font color="blue">equation </font>
  face.rho = 4*U.C/U.cc;
  face.mPhidot = {0,0,0};
  face.T = 300*U.K;
<font color="blue">end </font>Boundary;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.BoundaryI.png" alt="FCSys.Subregions.Examples.Boundary2" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Boundary2"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Boundary2</h2>
<img src="images/FCSys.Subregions.Examples.BoundaryD.png" alt="FCSys.Subregions.Examples.Boundary2">
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.Face">Face</a></td><td>face</td><td>&nbsp;</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Boundary2

  <a href="FCSys_Connectors.html#FCSys.Connectors.Face">Connectors.Face</a> face;

<font color="blue">equation </font>
  face.Ndot = 0;
  face.phi = {0,0,0};
  face.Qdot = 0;
<font color="blue">end </font>Boundary2;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.BoundaryGasI.png" alt="FCSys.Subregions.Examples.BoundaryGas" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.BoundaryGas"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.BoundaryGas</h2>
<img src="images/FCSys.Subregions.Examples.BoundaryGasD.png" alt="FCSys.Subregions.Examples.BoundaryGas">
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>face</td><td>&nbsp;</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> BoundaryGas

  <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Boundary2">Boundary2</a> boundary2_1;
  <a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">Connectors.FaceBus</a> face;
<font color="blue">equation </font>
  <font color="red">connect</font>(boundary2_1.face, face.H2);
<font color="blue">end </font>BoundaryGas;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.BoundarySubregionI.png" alt="FCSys.Subregions.Examples.BoundarySubregion" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.BoundarySubregion"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.BoundarySubregion</h2>
<img src="images/FCSys.Subregions.Examples.BoundarySubregionD.png" alt="FCSys.Subregions.Examples.BoundarySubregion">
<p>
<h3>Connectors</h3>
<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">FaceBus</a></td><td>face</td><td>&nbsp;</td></tr>
</table>
<p>
<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> BoundarySubregion

  <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.BoundaryGas">BoundaryGas</a> boundaryGas;
  <a href="FCSys_Connectors.html#FCSys.Connectors.FaceBus">Connectors.FaceBus</a> face;
<font color="blue">equation </font>
  <font color="red">connect</font>(boundaryGas.face, face.gas);
<font color="blue">end </font>BoundarySubregion;
</pre>
      </div>
    </div>
  </div>
</div>
<div class="footer">
  &copy; Copyright 2012, Kevin Davies, Georgia Tech Research Corporation. Last updated Wed Jun  5 08:44:30 2013.
</div>
</body>
</html>
