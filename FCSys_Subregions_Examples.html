<html>
<head>
<title>FCSys.Subregions.Examples</title>
<meta name="title" content="Modelica fuel cell library">
<meta name="keywords" content="fuel cell library, FCSys, fuel cell, PEM, proton exchange membrane, polymer exchange membrane, PEMFC, Modelica, Dymola, open-source, electrochemistry">
<meta name="date" content="2013-8-9">
<meta name="description" content="Examples">
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="stylesheets/ModelicaDoc.css">
<link rel="shortcut icon" href="images/favicon.ico">
<script type="text/javascript" src="javascripts/analytics.js"></script>
</head>
<body>
<span itemscope itemtype="http://schema.org/SoftwareApplication">
<div class="sidebar">
  <div class="sidebarwrapper">
  <a href="index.html"><p itemprop="name" class="sidebar-title">FCSys</p></a>
  <p class="logo"><a href="index.html">
    <img itemprop="image" src="images/icon.gif" class="logo" alt="Logo" width=150>
  </a></p>

<h3>Table of Contents</h3>

<ul>
    <li><a href="FCSys_UsersGuide.html">User's Guide</a></li>
    <li><a href="FCSys_Blocks.html">Blocks</a></li>
    <li><a href="FCSys_Conditions.html">Conditions</a></li>
    <li><a href="FCSys_Assemblies.html">Assemblies</a></li>
    <li><a href="FCSys_Regions.html">Regions</a></li>
    <li><a href="FCSys_Subregions.html">Subregions</a></li>
    <li><a href="FCSys_Phases.html">Phases</a></li>
    <li><a href="FCSys_Species.html">Species</a></li>
    <li><a href="FCSys_Connectors.html">Connectors</a></li>
    <li><a href="FCSys_Characteristics.html">Characteristics</a></li>
    <li><a href="FCSys_Units.html">Units</a></li>
    <li><a href="FCSys_Quantities.html">Quantities</a></li>
    <li><a href="FCSys_Utilities.html">Utilities</a></li>
    <li><a href="FCSys_Icons.html">Icons</a></li>
    </ul>

  <h3>Download</h3>
    <ul>
      <li><span itemprop="downloadUrl"><a href="https://github.com/kdavies4/FCSys/zipball/release" rel="nofollow">Latest version</a></span> (**Empty; please check back soon or contact kdavies4 at gmail.com.)</li>
    </ul>
  </div>
</div>

<div class="document">
  <div class="documentwrapper">
    <div class="bodywrapper">
      <div class="body">

<h2><a name="FCSys.Subregions.Examples"></a><a href="FCSys_Subregions.html#FCSys.Subregions">FCSys.Subregions</a>.Examples</h2>

<b>Examples</b>

<h3>Information</h3>

Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.ExamplesPackage.html#Modelica.Icons.ExamplesPackage">Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).

<h3>Package Content</h3>

<table border=1 cellspacing=0 cellpadding=2 >
<tr><th>Name</th><th>Description</th></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.AirColumn" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.AirColumn">AirColumn</a>
</td><td>Test a one-dimensional array of subregions with an initial pressure difference (C<sup>+</sup> and N<sub>2</sub> included by default)</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.Echo" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Echo">Echo</a>
</td><td>Two regions of gas with initial pressure difference, no dampening</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.EchoCentral" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.EchoCentral">EchoCentral</a>
</td><td>Two regions of gas with initial pressure difference (no dampening), with central difference scheme</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.ElectricalConduction" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.ElectricalConduction">ElectricalConduction</a>
</td><td>Test a one-dimensional array of subregions with C<sup>+</sup> and e<sup>-</sup></td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.Evaporation" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Evaporation">Evaporation</a>
</td><td>Test a subregion with evaporation and condensation</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.AirColumnS.png" alt="FCSys.Subregions.Examples.HOR" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.HOR">HOR</a>
</td><td>Test the hydrogen oxidation reaction in one subregion</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.HydrationS.png" alt="FCSys.Subregions.Examples.Hydration" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Hydration">Hydration</a>
</td><td>Test absorption and desorption of H<sub>2</sub>O between the gas and ionomer</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.InternalFlowS.png" alt="FCSys.Subregions.Examples.InternalFlow" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.InternalFlow">InternalFlow</a>
</td><td>Internal, laminar flow of liquid water</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.InternalFlowS.png" alt="FCSys.Subregions.Examples.ORR" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.ORR">ORR</a>
</td><td>Test the oxygen reduction reaction in one subregion</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.ReactionS.png" alt="FCSys.Subregions.Examples.Reaction" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Reaction">Reaction</a>
</td><td>Test an electrochemical reaction driven by a single charge carrier (positive or negative)</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SaturationPressureS.png" alt="FCSys.Subregions.Examples.SaturationPressure" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.SaturationPressure">SaturationPressure</a>
</td><td>Evaluate the saturation pressure curve by varying temperature</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SaturationPressureS.png" alt="FCSys.Subregions.Examples.Subregion" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Subregion</a>
</td><td>Evaluate a single subregion, with H<sub>2</sub> by default</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SaturationPressureS.png" alt="FCSys.Subregions.Examples.Subregions" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Subregions</a>
</td><td>Test a one-dimensional array of subregions with an initial pressure difference (C<sup>+</sup> and H<sub>2</sub> included by default)</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SaturationPressureS.png" alt="FCSys.Subregions.Examples.ThermalConduction" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.ThermalConduction">ThermalConduction</a>
</td><td>Test thermal conduction (through solid)</td></tr>
<tr><td><img src="images/FCSys.Subregions.Examples.SaturationPressureS.png" alt="FCSys.Subregions.Examples.ThermalConductionConvection" width=20  height=20 align=top>&nbsp;<a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.ThermalConductionConvection">ThermalConductionConvection</a>
</td><td>Test combined thermal conduction and convection</td></tr>
<tr><td><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.ChargeLayer">ChargeLayer</a>
</td><td>&nbsp;</td></tr>
</table>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.AirColumn" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.AirColumn"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.AirColumn</h2>
<b>Test a one-dimensional array of subregions with an initial pressure difference (C<sup>+</sup> and N<sub>2</sub> included by default)</b><p>
<img src="images/FCSys.Subregions.Examples.AirColumnD.png" alt="FCSys.Subregions.Examples.AirColumn">

<h3>Information</h3>

<p>This is a model of a vertical column of 10&nbsp;&times;&nbsp;10&nbsp;&times;&nbsp;10&nbsp;m
    regions with N<sub>2</sub> gas.  The upper and lower boundary regions are held with zero velocity.
    The initial pressure difference is zero, but a pressure difference
    develops due to gravity.  There are some oscillations due to the pressure/translational dynamics.
    After about 1.5&nbsp;s, the pressure difference settles to
      <i>L</i><sub>y</sub> <i>a</i><sub>y</sub> <i>m</i> &rho;
      as expected.</p>

      <p>A temperature gradient is created due to the thermodynamics of the expanding and contracting
      gases.  It takes much longer (about a day) for the temperatures to equalize since the gas has a
      relatively low thermal conductivity.</p>

      <p>Assumptions:
      <ol>
      <li>Graphite is included as a solid, stationary species with small relative volume and very slight
      friction to dampen the oscillations.</li>
      <li>The central difference scheme is used (no upstream discretization).</ol>
      </p><p>
Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_y</td><td>3</td><td>Number of discrete subregions along the y axis, besides the 2 boundary subregions</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>0</td><td>Initial pressure difference [m/(l.T2)]</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> AirColumn <font color="darkgreen">
  &quot;Test a one-dimensional array of subregions with an initial pressure difference (C<sup>+</sup> and N<sub>2</sub> included by default)&quot;</font>
  <font color="blue">import </font><a href="FCSys_Utilities.html#FCSys.Utilities.round">FCSys.Utilities.round</a>;
  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">parameter </font>Integer n_y=3 <font color="darkgreen">
    &quot;Number of discrete subregions along the y axis, besides the 2 boundary subregions&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap_IC=0 <font color="darkgreen">&quot;Initial pressure difference&quot;</font>;

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap=subregion2.gas.N2.p - subregion1.gas.N2.p <font color="darkgreen">
    &quot;Measured pressure difference&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap_ex=-(n_y + 1)*10*U.m*environment.a[Axis.y]*
      Characteristics.N2.Gas.m*subregions[<font color="red">round</font>(n_y/2)].gas.N2.rho <font color="darkgreen">
    &quot;Expected pressure difference&quot;</font>;

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(analysis=true, p=U.atm - U.kPa);
  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregion1(
    L={10,10,10}*U.m,
    inclFacesZ=false,
    inclTransZ=false,
    inclTransX=false,
    inclTransY=true,
    inclFacesX=false,
    inclFacesY=true,
    k_common=1e-8,
    gas(
      inclH2O=false,
      inclN2=true,
      N2(
        p_IC=environment.p - Deltap_IC/2,
        consTransY=Conservation.IC,
        upstreamY=false)),
    graphite(&#39;inclC+&#39;=true, &#39;C+&#39;(V_IC=U.mm^3)));

  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregions[n_y](
    <font color="blue">each </font>L={10,10,10}*U.m,
    <font color="blue">each </font>inclTransZ=false,
    <font color="blue">each </font>inclFacesZ=false,
    <font color="blue">each </font>k_DE=1e-8,
    gas(
      <font color="blue">each </font>inclH2O=false,
      <font color="blue">each </font>inclN2=true,
      N2(p_IC={environment.p - Deltap_IC/2 - i*Deltap_IC/(n_y + 1) <font color="blue">for </font>i<font color="blue"> in </font>1:
            n_y}, <font color="blue">each </font>upstreamY=false)),
    graphite(<font color="blue">each </font>&#39;inclC+&#39;=true, <font color="blue">each </font>&#39;C+&#39;(V_IC=U.mm^3)),
    <font color="blue">each </font>inclTransX=false,
    <font color="blue">each </font>inclTransY=true,
    <font color="blue">each </font>inclFacesX=false,
    <font color="blue">each </font>inclFacesY=true) <font color="blue">if </font>n_y &gt; 0;

  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregion2(
    L={10,10,10}*U.m,
    inclFacesZ=false,
    inclTransZ=false,
    inclTransX=false,
    inclTransY=true,
    inclFacesX=false,
    inclFacesY=true,
    <font color="blue">each </font>k_DE=1e-8,
    gas(
      inclH2O=false,
      inclN2=true,
      N2(
        p_IC=environment.p + Deltap_IC/2,
        consTransY=Conservation.IC,
        upstreamY=false)),
    graphite(&#39;inclC+&#39;=true, &#39;C+&#39;(V_IC=U.mm^3)));

<font color="blue">equation </font>
  <font color="red">connect</font>(subregion1.yPositive, subregions[1].yNegative);

  <font color="blue">for </font>i<font color="blue"> in </font>1:n_y - 1<font color="blue"> loop</font>
    <font color="red">connect</font>(subregions[1:n_y - 1].yPositive, subregions[2:n_y].yNegative) <font color="darkgreen">
      &quot;Not shown in the diagram&quot;</font>;
  <font color="blue">end for</font>;
  <font color="blue">if </font>n_y == 0<font color="blue"> then</font>
    <font color="red">connect</font>(subregion1.yPositive, subregion2.yNegative) <font color="darkgreen">
      &quot;Not shown in the diagram&quot;</font>;
  <font color="blue">end if</font>;
  <font color="red">connect</font>(subregions[n_y].yPositive, subregion2.yNegative);

<font color="blue">end </font>AirColumn;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.Echo" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Echo"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Echo</h2>
<b>Two regions of gas with initial pressure difference, no dampening</b><p>
<img src="images/FCSys.Subregions.Examples.EchoD.png" alt="FCSys.Subregions.Examples.Echo">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Subregions</a> (Test a one-dimensional array of subregions with an initial pressure difference (C<sup>+</sup> and H<sub>2</sub> included by default)).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>0</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>-100*U.Pa</td><td>Initial pressure difference [m/(l.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Echo <font color="darkgreen">
  &quot;Two regions of gas with initial pressure difference, no dampening&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Subregions</a>(
    inclH2=true,
    &#39;inclC+&#39;=false,
    subregion1(gas(H2(T(stateSelect=StateSelect.always)))),
    subregion2(gas(H2(T(stateSelect=StateSelect.always)))));

<font color="blue">end </font>Echo;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.EchoCentral" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.EchoCentral"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.EchoCentral</h2>
<b>Two regions of gas with initial pressure difference (no dampening), with central difference scheme</b><p>
<img src="images/FCSys.Subregions.Examples.EchoD.png" alt="FCSys.Subregions.Examples.EchoCentral">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Subregions</a> (Test a one-dimensional array of subregions with an initial pressure difference (C<sup>+</sup> and H<sub>2</sub> included by default)).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>0</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>-100*U.Pa</td><td>Initial pressure difference [m/(l.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> EchoCentral <font color="darkgreen">
  &quot;Two regions of gas with initial pressure difference (no dampening), with central difference scheme&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Subregions</a>(
    &#39;inclC+&#39;=false,
    subregion1(gas(
        H2(upstreamX=false),
        H2O(upstreamX=false),
        N2(upstreamX=false),
        O2(upstreamX=false))),
    subregions(gas(
        <font color="blue">each </font>H2(upstreamX=false),
        <font color="blue">each </font>H2O(upstreamX=false),
        <font color="blue">each </font>N2(upstreamX=false),
        <font color="blue">each </font>O2(upstreamX=false))),
    subregion2(gas(
        H2(upstreamX=false),
        H2O(upstreamX=false),
        N2(upstreamX=false),
        O2(upstreamX=false))));
<font color="blue">end </font>EchoCentral;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.ElectricalConduction" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.ElectricalConduction"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.ElectricalConduction</h2>
<b>Test a one-dimensional array of subregions with C<sup>+</sup> and e<sup>-</sup></b><p>
<img src="images/FCSys.Subregions.Examples.ElectricalConductionD.png" alt="FCSys.Subregions.Examples.ElectricalConduction">

<h3>Information</h3>

<p>This is an example of Ohm's law.  The 1&nbsp;cm &times; 1&nbsp;mm &times; 1&nbsp;mm subregion contains
    carbon (C<sup>+</sup>) and electrons.  An electrical current of 50&nbsp;mA (5&nbsp;A/cm<sup>2</sup>) is delivered into
    the negative boundary and exits the positive boundary.  Due to the finite mobility of
    the electrons a force is required to support the current; this maps directly to
    electrical potential.  The example shows that the measured resistance is
    <i>R</i>&nbsp;=&nbsp;<i>L</i>/(<i>A</i>&nbsp;<i>&rho;</i>&nbsp;&mu;) as expected, where &rho; is electronic
    density and &mu; is electronic mobility.</p>

    <p>The measured rate of heat generation (<code>subregion.graphite.'e-'.Edot_DT</code>)
    is equal to <i>P</i> = (<i>zI</i>)<sup>2</sup> <i>R</i> as expected, where
    <i>zI</i> = 50&nbsp;mA is the electrical current.  This heat is conducted through the carbon
    to the boundaries, which are held at 25&nbsp;&deg;C.  The measured steady state temperature
    is <i>T</i>&nbsp;=&nbsp;<i>T</i><sub>0</sub>&nbsp;+&nbsp;&theta;&nbsp;<i>L</i>&nbsp;<i>P</i>/(4&nbsp;<i>A</i>) as expected, where
    <i>T</i><sub>0</sub>&nbsp;=&nbsp;25&nbsp;&deg;C is the boundary temperature and
    &theta; is the thermal resistance.  The factor of one fourth
    is due to the boundary conditions; the conduction length is half of the total length
    and the heat is rejected to both sides.  There is no thermal convection or
    radiation&mdash;only conduction to the sides.</p>
    <p>
Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a> (Evaluate a single subregion, with H<sub>2</sub> by default).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>true</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> ElectricalConduction <font color="darkgreen">
  &quot;Test a one-dimensional array of subregions with C<sup>+</sup> and e<sup>-</sup>&quot;</font>

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=(subregion.graphite.'e-'.faces[1, Side.p].mPhidot[Orient.normal]
      /subregion.graphite.'e-'.faces[1, Side.p].rho - subregion.graphite.'e-'.faces[
      1, Side.n].mPhidot[Orient.normal]/subregion.graphite.'e-'.faces[1, Side.n].rho)
      /subregion.A[Axis.x] <font color="darkgreen">&quot;Potential&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Current">Q.Current</a> zI=-subregion.graphite.'e-'.Ndot_faces[1, Side.n] <font color="darkgreen">
    &quot;Electrical current&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ResistanceElectrical">Q.ResistanceElectrical</a> R=w/zI <font color="darkgreen">&quot;Measured electrical resistance&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.ResistanceElectrical">Q.ResistanceElectrical</a> R_ex=subregion.graphite.'e-'.v*subregion.L[Axis.x]
      /(subregion.graphite.'e-'.mu*subregion.A[Axis.x]) <font color="darkgreen">
    &quot;Expected electrical resistance&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Power">Q.Power</a> P=subregion.graphite.'e-'.Edot_DT <font color="darkgreen">
    &quot;Measured rate of heat generation&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Power">Q.Power</a> P_ex=zI^2*R <font color="darkgreen">&quot;Expected rate of heat generation&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute">Q.TemperatureAbsolute</a> T=subregion.graphite.'C+'.T <font color="darkgreen">
    &quot;Measured temperature&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute">Q.TemperatureAbsolute</a> T_ex=environment.T + subregion.graphite.'C+'.theta
      *U.cm*P/(4*U.mm^2) <font color="darkgreen">&quot;Expected temperature&quot;</font>;

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a>(
    &#39;inclC+&#39;=true,
    &#39;incle-&#39;=true,
    inclH2=false,
    subregion(L={U.cm,U.mm,U.mm}, graphite(
        reduceThermal=true,
        &#39;C+&#39;(initMaterial=InitScalar.pressure),
        &#39;e-&#39;(
          initTransX=InitTranslational.none,
          initEnergy=InitScalar.none,
          sigma=1e2*U.S/U.m))));

  <a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows">FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows</a> BC1(graphite(
      <font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;inclC+&#39;=true,
      &#39;e-&#39;(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_TranslationalNormal.html#FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.currentDensity">Conditions.ByConnector.Face.Single.TranslationalNormal.currentDensity</a>,
          normalSet(y=-5*U.A/U.cm^2)),
      &#39;C+&#39;(<font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Thermal.html#FCSys.Conditions.ByConnector.Face.Single.Thermal.temperature">Conditions.ByConnector.Face.Single.Thermal.temperature</a>,
          thermalSet(y=environment.T))));

  <a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows">FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows</a> BC2(graphite(
      &#39;inclC+&#39;=true,
      <font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;C+&#39;(<font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Thermal.html#FCSys.Conditions.ByConnector.Face.Single.Thermal.temperature">Conditions.ByConnector.Face.Single.Thermal.temperature</a>,
          thermalSet(y=environment.T))));

<font color="blue">equation </font>
  <font color="red">connect</font>(BC1.face, subregion.xNegative);

  <font color="red">connect</font>(subregion.xPositive, BC2.face);

<font color="blue">end </font>ElectricalConduction;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.Evaporation" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Evaporation"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Evaporation</h2>
<b>Test a subregion with evaporation and condensation</b><p>
<img src="images/FCSys.Subregions.Examples.ElectricalConductionD.png" alt="FCSys.Subregions.Examples.Evaporation">

<h3>Information</h3>

<p>**Update (new times) Initially, the water vapor is below saturation and liquid water is present.
  Some of the liquid evaporates until saturation is reached.  Then from 1&nbsp;to&nbsp;2&nbsp;s additional water vapor is injected from the negative boundary
  and some of it condenses.  All of this occurs at a fixed temperature (25&nbsp;&deg;C).</p><p>
Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a> (Evaluate a single subregion, with H<sub>2</sub> by default).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>true</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Evaporation <font color="darkgreen">
  &quot;Test a subregion with evaporation and condensation&quot;</font>

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> p_sat=<font color="red">Modelica.Media.Air.MoistAir.saturationPressureLiquid</font>(
      subregion.gas.H2O.T/U.K)*U.Pa <font color="darkgreen">&quot;Saturation pressure via Modelica.Media&quot;</font>;

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a>(
    inclH2O=true,
    inclH2=false,
    subregion(gas(H2O(p_IC=U.kPa, consEnergy=Conservation.IC)), liquid(inclH2O=
            inclH2O, H2O(consEnergy=Conservation.IC))));
  <a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows">FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows</a> BC1(gas(inclH2O=true,
        H2O(<font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Pulse">Modelica.Blocks.Sources.Pulse</a> materialSet(
          amplitude=-5e5*U.A,
          width=1e-8,
          period=10000,
          startTime=1e-6), <font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.Translational.velocity</a>)),
      liquid(inclH2O=true, H2O(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.Translational.velocity</a>)));

<a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows">FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows</a> BC2(gas(inclH2O=true,
        H2O(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.Translational.velocity</a>)),
      liquid(inclH2O=true, H2O(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.Translational.velocity</a>)));

<font color="blue">equation </font>
  <font color="red">connect</font>(BC1.face, subregion.xNegative);

  <font color="red">connect</font>(subregion.xPositive, BC2.face);

<font color="blue">end </font>Evaporation;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.AirColumnI.png" alt="FCSys.Subregions.Examples.HOR" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.HOR"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.HOR</h2>
<b>Test the hydrogen oxidation reaction in one subregion</b><p>
<img src="images/FCSys.Subregions.Examples.HORD.png" alt="FCSys.Subregions.Examples.HOR">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a> (Evaluate a single subregion, with H<sub>2</sub> by default).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>true</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>true</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>true</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>true</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> HOR <font color="darkgreen">&quot;Test the hydrogen oxidation reaction in one subregion&quot;</font>

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=positiveBC.ionomer.'H+'.face.mPhidot[1]/(positiveBC.ionomer.
      'H+'.face.rho*subregion.A[Axis.x]) - negativeBC.graphite.'e-'.face.mPhidot[
      1]/(negativeBC.graphite.'e-'.face.rho*subregion.A[Axis.x]) <font color="darkgreen">
    &quot;Electrical potential&quot;</font>;
  <font color="darkgreen">/*
  output Q.Current zI=subregion.graphite.&#39;e-&#39;.chemical.Ndot + subregion.graphite.
      &#39;e-&#39;.faces[1, 2].Ndot &quot;Electrical current due to reaction&quot;;
  output Q.Number zJ_Apercm2=zI*U.cm^2/(subregion.A[Axis.x]*U.A)
    &quot;Electrical current density, in A/cm2&quot;;
  output Q.Power Qdot=subregion.graphite.&#39;C+&#39;.Edot_DE &quot;Rate of heat generation&quot;;
  output Q.Power P=w*zI &quot;Electrical power&quot;;
  output Q.NumberAbsolute eta=P/(P + Qdot) &quot;Efficiency&quot;;
  // **Fix Qdot, P, eta
  // **Update plots
  */</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a>(
    &#39;inclC+&#39;=true,
    &#39;inclSO3-&#39;=true,
    &#39;incle-&#39;=true,
    &#39;inclH+&#39;=true,
    inclH2=true,
    inclH2O=true,
    subregion(L={0.287*U.mm,10*U.cm,10*U.cm}, gas(H2(consTransX=Conservation.IC))));

  <a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusEfforts">Conditions.ByConnector.FaceBus.Single.FaceBusEfforts</a> negativeBC(gas(
      inclH2=true,
      inclH2O=true,
      H2(materialSet(y=(environment.p - environment.p_H2O)/environment.T)),
      H2O(materialSet(y=environment.p_H2O/environment.T))), graphite(&#39;incle-&#39;=true,
        &#39;e-&#39;(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_TranslationalNormal.html#FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.currentDensity">Conditions.ByConnector.Face.Single.TranslationalNormal.currentDensity</a>,
          <font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> normalSet(
          height=-U.A/U.cm^2,
          duration=100.1,
          startTime=0.1))));

  <a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusEfforts">Conditions.ByConnector.FaceBus.Single.FaceBusEfforts</a> positiveBC(ionomer(
        &#39;inclH+&#39;=true, &#39;H+&#39;(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.force">Conditions.ByConnector.Face.Single.TranslationalNormal.force</a>)));

<font color="blue">equation </font>
  <font color="red">connect</font>(negativeBC.face, subregion.xNegative);

  <font color="red">connect</font>(subregion.xPositive, positiveBC.face);

<font color="blue">end </font>HOR;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.HydrationI.png" alt="FCSys.Subregions.Examples.Hydration" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Hydration"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Hydration</h2>
<b>Test absorption and desorption of H<sub>2</sub>O between the gas and ionomer</b><p>
<img src="images/FCSys.Subregions.Examples.HydrationD.png" alt="FCSys.Subregions.Examples.Hydration">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a> (Evaluate a single subregion, with H<sub>2</sub> by default), <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.UnderConstruction">Modelica.Icons.UnderConstruction</a>.
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>true</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>true</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Hydration <font color="darkgreen">
  &quot;Test absorption and desorption of H<sub>2</sub>O between the gas and ionomer&quot;</font>

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a>(
    &#39;inclSO3-&#39;=true,
    inclH2O=true,
    inclH2=false,
    subregion(gas(H2O(p_IC=1.001*U.atm)), ionomer(inclH2O=inclH2O)));
  <font color="darkgreen">// In Dymola 7.4, p_IC=1.1*environment.p has no effect on the</font>
  <font color="darkgreen">// initial pressure, but p_IC=1.1*U.atm does.</font>
  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.UnderConstruction">Modelica.Icons.UnderConstruction</a>;
  <font color="darkgreen">// TODO: Update the EOS for H2O in ionomer and recheck the result.</font>

<font color="blue">end </font>Hydration;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.InternalFlowI.png" alt="FCSys.Subregions.Examples.InternalFlow" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.InternalFlow"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.InternalFlow</h2>
<b>Internal, laminar flow of liquid water</b><p>
<img src="images/FCSys.Subregions.Examples.InternalFlowD.png" alt="FCSys.Subregions.Examples.InternalFlow">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a> (Evaluate a single subregion, with H<sub>2</sub> by default).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.VolumeRate">VolumeRate</a></td><td>Vdot</td><td>-U.L/U.s</td><td>Prescribed volume flow rate [l3/T]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> InternalFlow <font color="darkgreen">&quot;Internal, laminar flow of liquid water&quot;</font>
  <font color="blue">import </font><a href="FCSys_Utilities.html#FCSys.Utilities.Delta">FCSys.Utilities.Delta</a>;

  <font color="blue">final </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Area">Q.Area</a> A=subregion.A[Axis.x] <font color="darkgreen">&quot;Cross-sectional area&quot;</font>;

  <font color="darkgreen">// Conditions</font>
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.VolumeRate">Q.VolumeRate</a> Vdot=-U.L/U.s <font color="darkgreen">&quot;Prescribed volume flow rate&quot;</font>;

  <font color="darkgreen">// Measurements</font>
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap=<font color="red">Delta</font>(subregion.liquid.H2O.p_faces[1, :]) - <font color="red">sum</font>(
      subregion.liquid.H2O.faces[1, :].mPhidot[Orient.normal])/A <font color="darkgreen">
    &quot;Measured pressure difference (thermodynamic + nonequilibrium)&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> D=2*A/(subregion.L[Axis.y] + subregion.L[Axis.z]);
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Number">Q.Number</a> Re=subregion.liquid.H2O.phi[Axis.x]*D*subregion.liquid.H2O.zeta
      *subregion.liquid.H2O.Data.m*subregion.liquid.H2O.rho <font color="darkgreen">&quot;Reynolds number&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap_Poiseuille=-32*subregion.L[Axis.x]*subregion.liquid.H2O.phi[
      Axis.x]/(D^2*subregion.liquid.H2O.zeta) <font color="darkgreen">
    &quot;Pressure difference according to Poiseuille&#39;s law&quot;</font>;

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a>(inclH2=false, subregion(
      L={U.m,U.cm,U.cm},
      void=true,
      inclFacesY=true,
      inclFacesZ=true,
      liquid(inclH2O=true,H2O(
          <font color="blue">final </font>V_IC=subregion.V,
          <font color="blue">final </font>beta=0,
          consMaterial=Conservation.IC,
          initMaterial=InitScalar.pressure,
          initTransX=InitTranslational.none))));

  <a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows">Conditions.ByConnector.FaceBus.Single.FaceBusFlows</a> BC1(liquid(inclH2O=true,
        H2O(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>,
          <font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Sine">Modelica.Blocks.Sources.Sine</a> normalSet(
          amplitude=0.2*Vdot/A,
          offset=Vdot/A,
          freqHz=0.01))));

  <a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows">Conditions.ByConnector.FaceBus.Single.FaceBusFlows</a> BC2(liquid(inclH2O=true));

  <a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusEfforts">Conditions.ByConnector.FaceBus.Single.FaceBusEfforts</a> BC3(liquid(inclH2O=true,
        H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Material.html#FCSys.Conditions.ByConnector.Face.Single.Material.current">Conditions.ByConnector.Face.Single.Material.current</a>,

        materialSet(y=0),
        <font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.force">Conditions.ByConnector.Face.Single.TranslationalNormal.force</a>)));

<a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusEfforts">Conditions.ByConnector.FaceBus.Single.FaceBusEfforts</a> BC4(liquid(inclH2O=true,
        H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Material.html#FCSys.Conditions.ByConnector.Face.Single.Material.current">Conditions.ByConnector.Face.Single.Material.current</a>,

        materialSet(y=0),
        <font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.force">Conditions.ByConnector.Face.Single.TranslationalNormal.force</a>)));

<a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusEfforts">Conditions.ByConnector.FaceBus.Single.FaceBusEfforts</a> BC5(liquid(inclH2O=true,
        H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Material.html#FCSys.Conditions.ByConnector.Face.Single.Material.current">Conditions.ByConnector.Face.Single.Material.current</a>,

        materialSet(y=0),
        <font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.force">Conditions.ByConnector.Face.Single.TranslationalNormal.force</a>)));

<a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusEfforts">Conditions.ByConnector.FaceBus.Single.FaceBusEfforts</a> BC6(liquid(inclH2O=true,
        H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> materialSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Material.html#FCSys.Conditions.ByConnector.Face.Single.Material.current">Conditions.ByConnector.Face.Single.Material.current</a>,

        materialSet(y=0),
        <font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.force">Conditions.ByConnector.Face.Single.TranslationalNormal.force</a>)));

<font color="blue">equation </font>
  <font color="red">connect</font>(BC1.face, subregion.xNegative);

  <font color="red">connect</font>(BC2.face, subregion.xPositive);

  <font color="red">connect</font>(subregion.yNegative, BC3.face);
  <font color="red">connect</font>(BC4.face, subregion.yPositive);

  <font color="red">connect</font>(subregion.zPositive, BC6.face);

  <font color="red">connect</font>(subregion.zNegative, BC5.face);
<font color="blue">end </font>InternalFlow;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.InternalFlowI.png" alt="FCSys.Subregions.Examples.ORR" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.ORR"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.ORR</h2>
<b>Test the oxygen reduction reaction in one subregion</b><p>
<img src="images/FCSys.Subregions.Examples.ORRD.png" alt="FCSys.Subregions.Examples.ORR">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a> (Evaluate a single subregion, with H<sub>2</sub> by default).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>true</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>true</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>true</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>true</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>true</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>true</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> ORR <font color="darkgreen">&quot;Test the oxygen reduction reaction in one subregion&quot;</font>
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Potential">Q.Potential</a> w=negativeBC.ionomer.'H+'.face.mPhidot[1]/(negativeBC.ionomer.
      'H+'.face.rho*subregion.A[Axis.x]) - positiveBC.graphite.'e-'.face.mPhidot[
      1]/(positiveBC.graphite.'e-'.face.rho*subregion.A[Axis.x]) <font color="darkgreen">
    &quot;Electrical potential&quot;</font>;

  <font color="darkgreen">/* **
  output Q.Current zI=-subregion.graphite.&#39;e-&#39;.chemical.Ndot
    &quot;Electrical current due to reaction&quot;;
  output Q.Number zJ_Apercm2=zI*U.cm^2/(subregion.A[Axis.x]*U.A)
    &quot;Electrical current density, in A/cm2&quot;;
  output Q.Power Qdot=subregion.graphite.&#39;C+&#39;.Edot_DE &quot;Rate of heat generation&quot;;
  output Q.Power P=w*zI &quot;Electrical power&quot;;
  output Q.NumberAbsolute eta=P/(P + Qdot) &quot;Efficiency&quot;;
*/</font>
  <font color="darkgreen">// **Fix Qdot, P, eta</font>

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a>(
    &#39;inclC+&#39;=true,
    &#39;inclSO3-&#39;=true,
    &#39;incle-&#39;=true,
    &#39;inclH+&#39;=true,
    inclH2=false,
    inclH2O=true,
    inclN2=true,
    inclO2=true,
    subregion(L={0.287*U.mm,10*U.cm,10*U.cm}, gas(
        reduceThermal=true,
        H2O(consTransX=Conservation.IC,p_IC=environment.p_H2O),
        N2(
          consTransX=Conservation.IC,
          p_IC=environment.p - environment.p_H2O - environment.p_O2,
          initEnergy=InitScalar.none),
        O2(
          consTransX=Conservation.IC,
          p_IC=environment.p_O2,
          initEnergy=InitScalar.none))));

  <a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusEfforts">Conditions.ByConnector.FaceBus.Single.FaceBusEfforts</a> negativeBC(ionomer(
        &#39;inclH+&#39;=true, &#39;H+&#39;(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.force">Conditions.ByConnector.Face.Single.TranslationalNormal.force</a>)));

<a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusEfforts">Conditions.ByConnector.FaceBus.Single.FaceBusEfforts</a> positiveBC(gas(
      inclH2O=true,
      inclN2=true,
      inclO2=true,
      H2O(materialSet(y=environment.p_H2O/environment.T)),
      H2(materialSet(y=(environment.p - environment.p_H2O - environment.p_O2)/
              environment.T)),
      O2(materialSet(y=environment.p_O2/environment.T))), graphite(&#39;incle-&#39;=true,
        &#39;e-&#39;(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_TranslationalNormal.html#FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.currentDensity">Conditions.ByConnector.Face.Single.TranslationalNormal.currentDensity</a>,
          <font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> normalSet(
          height=-U.A/U.cm^2,
          duration=100.1,
          startTime=0.1))));

<font color="blue">equation </font>
  <font color="red">connect</font>(negativeBC.face, subregion.xNegative);

  <font color="red">connect</font>(subregion.xPositive, positiveBC.face);

<font color="blue">end </font>ORR;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.ReactionI.png" alt="FCSys.Subregions.Examples.Reaction" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Reaction"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Reaction</h2>
<b>Test an electrochemical reaction driven by a single charge carrier (positive or negative)</b><p>
<img src="images/FCSys.Subregions.Examples.ReactionD.png" alt="FCSys.Subregions.Examples.Reaction">

<h3>Information</h3>

Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.UnderConstruction">Modelica.Icons.UnderConstruction</a>.
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L[Axis]</td><td>{10*U.cm,10*U.cm,0.1*U.mm}</td><td>Lengths [l]</td></tr>
<tr><td><a href="FCSys_Conditions_ByConnector_Chemical.html#FCSys.Conditions.ByConnector.Chemical.Potential">Potential</a></td><td>species1</td><td>redeclare Conditions.ByConne&hellip;</td><td>&nbsp;</td></tr>
<tr><td><a href="FCSys_Conditions_ByConnector_Chemical.html#FCSys.Conditions.ByConnector.Chemical.Current">Current</a></td><td>species2</td><td>redeclare Conditions.ByConne&hellip;</td><td>&nbsp;</td></tr>
<TR bgcolor="#c0c0c0"><TD colspan=4><b>Assumptions</b></td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axes with translational momentum included</td></tr>
<tr><td>Boolean</td><td>inclTransX</td><td>true</td><td>X</td></tr>
<tr><td>Boolean</td><td>inclTransY</td><td>false</td><td>Y</td></tr>
<tr><td>Boolean</td><td>inclTransZ</td><td>false</td><td>Z</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Reaction <font color="darkgreen">
  &quot;Test an electrochemical reaction driven by a single charge carrier (positive or negative)&quot;</font>
  <font color="darkgreen">// **Make this into a simple runnable 0D FC.</font>
  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;
  <font color="blue">import </font><a href="FCSys_Utilities.html#FCSys.Utilities.cartWrap">FCSys.Utilities.cartWrap</a>;
  <font color="blue">import </font><a href="FCSys_Utilities.html#FCSys.Utilities.countTrue">FCSys.Utilities.countTrue</a>;
  <font color="blue">import </font><a href="FCSys_Utilities.html#FCSys.Utilities.enumerate">FCSys.Utilities.enumerate</a>;
  <font color="blue">import </font><a href="FCSys_Utilities.html#FCSys.Utilities.index">FCSys.Utilities.index</a>;
  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.UnderConstruction">Modelica.Icons.UnderConstruction</a>;
  <font color="darkgreen">// Geometry</font>
  <font color="blue">inner </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> L[Axis](<font color="blue">each </font>min=Modelica.Constants.small) = {10*U.cm,
    10*U.cm,0.1*U.mm} <font color="darkgreen">&quot;Lengths&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Area">Q.Area</a> A[Axis]={L[<font color="red">cartWrap</font>(axis + 1)]*L[<font color="red">cartWrap</font>(axis +
      2)] <font color="blue">for </font>axis<font color="blue"> in </font>Axis} <font color="darkgreen">&quot;Cross-sectional areas&quot;</font>;

  <font color="darkgreen">// Assumptions</font>
  <font color="darkgreen">// -----------</font>
  <font color="darkgreen">// Included components of translational momentum</font>
  <font color="blue">parameter </font>Boolean inclTransX=true <font color="darkgreen">&quot;X&quot;</font>;
  <font color="blue">parameter </font>Boolean inclTransY=false <font color="darkgreen">&quot;Y&quot;</font>;
  <font color="blue">parameter </font>Boolean inclTransZ=false <font color="darkgreen">&quot;Z&quot;</font>;

  <font color="darkgreen">// Auxiliary variables (for analysis)</font>
  <font color="darkgreen">/* **
  output Q.Potential w(stateSelect=StateSelect.never) = reaction.chemical.mu
    &quot;Electrochemical overpotential&quot;;
  output Q.Current zI(stateSelect=StateSelect.never) = -reaction.chemical.Ndot
    &quot;Electrical current due to reaction&quot;;
  output Q.Number zJ_Apercm2(stateSelect=StateSelect.never) = zI*U.cm^2/(
    reaction.A*U.A) &quot;Electrical current density, in A/cm2&quot;;
  output Q.Number Qdot[3](each stateSelect=StateSelect.never) = {potential[1].sT_actual
    *potential[1].chemical.Ndot,potential[2].sT_actual*potential[2].chemical.Ndot,
    current.sT_actual*current.chemical.Ndot} &quot;Rates of thermal advection&quot;;
  */</font>

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(analysis=true, T=360*U.K);

  FCSys.Subregions.DepletionLayer depletion(
    axis=Axis.x,
    minoritySide=Side.n,
    transSubstrate=false,
    <font color="blue">redeclare </font><a href="FCSys_Connectors.html#FCSys.Connectors.Reaction">FCSys.Connectors.Reaction</a> electrical) <font color="darkgreen">&quot;Depletion layer&quot;</font>;

  <a href="FCSys_Conditions_ByConnector_Inert.html#FCSys.Conditions.ByConnector.Inert.InertEfforts">FCSys.Conditions.ByConnector.Inert.InertEfforts</a> substrate(
    <font color="blue">final </font>inclTransX=inclTransX,
    <font color="blue">final </font>inclTransY=inclTransY,
    <font color="blue">final </font>inclTransZ=inclTransZ,
    thermalSet(y=environment.T));

  <a href="FCSys_Conditions_ByConnector_Face_Single.html#FCSys.Conditions.ByConnector.Face.Single.FaceEfforts">Conditions.ByConnector.Face.Single.FaceEfforts</a> majorityBC(materialSet(y=3.5*U.C
          /U.cc));
  <a href="FCSys_Conditions_ByConnector_Face_Single.html#FCSys.Conditions.ByConnector.Face.Single.FaceEfforts">Conditions.ByConnector.Face.Single.FaceEfforts</a> minorityBC(<font color="blue">redeclare </font><font color="blue">function</font>
      normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.force">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.force</a>);
  <font color="blue">replaceable </font><a href="FCSys_Conditions_ByConnector_Chemical.html#FCSys.Conditions.ByConnector.Chemical.Potential">Conditions.ByConnector.Chemical.Potential</a> species1(
    <font color="blue">final </font>inclTransX=inclTransX,
    <font color="blue">final </font>inclTransY=inclTransY,
    <font color="blue">final </font>inclTransZ=inclTransZ,
    sT=U.V);
  <font color="blue">replaceable </font><a href="FCSys_Conditions_ByConnector_Chemical.html#FCSys.Conditions.ByConnector.Chemical.Current">Conditions.ByConnector.Chemical.Current</a> species2(
    <font color="blue">final </font>inclTransX=inclTransX,
    <font color="blue">final </font>inclTransY=inclTransY,
    <font color="blue">final </font>inclTransZ=inclTransZ,
    sT=3000*U.K,
    <font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> source(duration=100, height=100*U.A))
    <font color="blue">constrainedby </font>subregion.gas.N2.Conditions.ByConnector.Chemical.Current(sT=3000
        *U.K, <font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> source(duration=100,
        height=-100*U.A));
  <a href="FCSys_Conditions_Adapters.html#FCSys.Conditions.Adapters.ChemicalReaction">FCSys.Conditions.Adapters.ChemicalReaction</a> exchange1(
    n=-2,
    m=U.g/U.mol,
    <font color="blue">redeclare </font><a href="FCSys_Connectors.html#FCSys.Connectors.Reaction">FCSys.Connectors.Reaction</a> electrochem);
  <a href="FCSys_Conditions_Adapters.html#FCSys.Conditions.Adapters.ChemicalReaction">FCSys.Conditions.Adapters.ChemicalReaction</a> exchange2(
    n=1,
    m=U.g/U.mol,
    <font color="blue">redeclare </font><a href="FCSys_Connectors.html#FCSys.Connectors.Reaction">FCSys.Connectors.Reaction</a> electrochem);

<font color="blue">protected </font>
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Boolean inclTrans[Axis]={inclTransX,inclTransY,
      inclTransZ} <font color="darkgreen">
    &quot;true, if each component of translational momentum is included&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Integer n_trans=<font color="red">countTrue</font>(inclTrans) <font color="darkgreen">
    &quot;Number of components of translational momentum&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Integer cartTrans[:]=<font color="red">index</font>(inclTrans) <font color="darkgreen">
    &quot;Cartesian-axis indices of the components of translational momentum&quot;</font>;

<font color="blue">equation </font>
  <font color="red">connect</font>(depletion.inert, substrate.inert);

  <font color="red">connect</font>(species2.chemical, exchange2.species);
  <font color="red">connect</font>(exchange2.electrochem, depletion.electrical);

  <font color="red">connect</font>(species1.chemical, exchange1.species);
  <font color="red">connect</font>(exchange2.electrochem, exchange1.electrochem);
  <font color="red">connect</font>(majorityBC.face, depletion.majority);
  <font color="red">connect</font>(depletion.minority, minorityBC.face);
<font color="blue">end </font>Reaction;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SaturationPressureI.png" alt="FCSys.Subregions.Examples.SaturationPressure" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.SaturationPressure"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.SaturationPressure</h2>
<b>Evaluate the saturation pressure curve by varying temperature</b><p>
<img src="images/FCSys.Subregions.Examples.SaturationPressureD.png" alt="FCSys.Subregions.Examples.SaturationPressure">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a> (Evaluate a single subregion, with H<sub>2</sub> by default).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>true</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> SaturationPressure <font color="darkgreen">
  &quot;Evaluate the saturation pressure curve by varying temperature&quot;</font>
  <font color="blue">import </font>saturationPressureSI = <a href="http://build.openmodelica.org/Documentation/Modelica.Media.Air.MoistAir.html#Modelica.Media.Air.MoistAir.saturationPressureLiquid">Modelica.Media.Air.MoistAir.saturationPressureLiquid</a>;

  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> p_sat=<font color="red">saturationPressureSI</font>(subregion.gas.H2O.T/U.K)*U.Pa <font color="darkgreen">
    &quot;Saturation pressure via Modelica.Media&quot;</font>;
  <font color="blue">output </font><a href="FCSys_Quantities.html#FCSys.Quantities.Number">Q.Number</a> T_degC=<font color="red">U.to_degC</font>(subregion.gas.H2O.T) <font color="darkgreen">
    &quot;Temperature in degree Celsius&quot;</font>;

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregion">Examples.Subregion</a>(
    inclH2O=true,
    inclH2=false,
    subregion(liquid(inclH2O=inclH2O, H2O(consTransX=Conservation.IC)), gas(H2O(
          p_IC=<font color="red">saturationPressureSI</font>(environment.T/U.K)*U.Pa,
          <font color="blue">redeclare </font><font color="blue">package</font> Data = <a href="FCSys_Characteristics_H2O_Gas.html#FCSys.Characteristics.H2O.Gas">FCSys.Characteristics.H2O.Gas</a>,
          consTransX=Conservation.IC))),
    environment(T=274.15*U.K));
  <font color="darkgreen">// **Remove tauprime mod</font>

  <a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows">FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows</a> BC1(liquid(inclH2O=true,
        H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Thermal.html#FCSys.Conditions.ByConnector.Face.Single.Thermal.temperature">FCSys.Conditions.ByConnector.Face.Single.Thermal.temperature</a>,

        <font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> thermalSet(
          height=99*U.K,
          duration=3600,
          offset=environment.T,
          y))), gas(inclH2O=true, H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Thermal.html#FCSys.Conditions.ByConnector.Face.Single.Thermal.temperature">FCSys.Conditions.ByConnector.Face.Single.Thermal.temperature</a>,

        <font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> thermalSet(
          height=99*U.K,
          duration=1000,
          offset=environment.T,
          y))));

  <a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows">FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows</a> BC2(gas(inclH2O=true,
        H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Thermal.html#FCSys.Conditions.ByConnector.Face.Single.Thermal.temperature">FCSys.Conditions.ByConnector.Face.Single.Thermal.temperature</a>,

        <font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> thermalSet(
          height=99*U.K,
          duration=1000,
          offset=environment.T,
          y))), liquid(inclH2O=true, H2O(
        <font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>,

        <font color="blue">redeclare </font><font color="blue">function</font> thermalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Thermal.html#FCSys.Conditions.ByConnector.Face.Single.Thermal.temperature">FCSys.Conditions.ByConnector.Face.Single.Thermal.temperature</a>,

        <font color="blue">redeclare </font><a href="http://build.openmodelica.org/Documentation/Modelica.Blocks.Sources.html#Modelica.Blocks.Sources.Ramp">Modelica.Blocks.Sources.Ramp</a> thermalSet(
          height=99*U.K,
          duration=1000,
          offset=environment.T,
          y))));

<font color="blue">equation </font>
  <font color="red">connect</font>(BC1.face, subregion.xNegative);

  <font color="red">connect</font>(subregion.xPositive, BC2.face);

<font color="blue">end </font>SaturationPressure;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SaturationPressureI.png" alt="FCSys.Subregions.Examples.Subregion" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Subregion"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Subregion</h2>
<b>Evaluate a single subregion, with H<sub>2</sub> by default</b><p>
<img src="images/FCSys.Subregions.Examples.SubregionD.png" alt="FCSys.Subregions.Examples.Subregion">

<h3>Information</h3>

<p>This model is boring.  It just sets up a
  single subregion with H<sub>2</sub> by default.  There are no boundary conditions
  other than those implied by the open connectors (no diffusion current, no forces,
  no thermal conduction).  Other examples in this package are extended from this one.</p>
  <p>
Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>false</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Subregion <font color="darkgreen">
  &quot;Evaluate a single subregion, with H<sub>2</sub> by default&quot;</font>

  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">parameter </font>Boolean &#39;inclC+&#39;=false <font color="darkgreen">&quot;Carbon plus (C<sup>+</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclSO3-&#39;=false <font color="darkgreen">
    &quot;Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S<sup>-</sup>, abbreviated as SO<sub>3</sub><sup>-</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;incle-&#39;=false <font color="darkgreen">&quot;Electrons (e<sup>-</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclH+&#39;=false <font color="darkgreen">&quot;Protons (H<sup>+</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclH2=true <font color="darkgreen">&quot;Hydrogen (H<sub>2</sub>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclH2O=false <font color="darkgreen">&quot;Water vapor (H<sub>2</sub>O)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclN2=false <font color="darkgreen">&quot;Nitrogen (N<sub>2</sub>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclO2=false <font color="darkgreen">&quot;Oxygen (O<sub>2</sub>)&quot;</font>;

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(analysis=true);
  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregion(
    L={1,1,1}*U.cm,
    inclTransY=false,
    inclTransZ=false,
    inclFacesY=false,
    inclFacesZ=false,
    inclFacesX=true,
    graphite(
      <font color="blue">final </font>&#39;inclC+&#39;='inclC+',
      <font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;C+&#39;(V_IC=subregion.V/4)),
    gas(
      <font color="blue">final </font>inclH2=inclH2,
      <font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">final </font>inclN2=inclN2,
      <font color="blue">final </font>inclO2=inclO2),
    liquid(H2O(V_IC=subregion.V/4)),
    ionomer(
      <font color="blue">final </font>&#39;inclSO3-&#39;='inclSO3-',
      <font color="blue">final </font>&#39;inclH+&#39;='inclH+',
      &#39;SO3-&#39;(V_IC=subregion.V/4)));

<font color="blue">end </font>Subregion;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SaturationPressureI.png" alt="FCSys.Subregions.Examples.Subregions" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.Subregions"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.Subregions</h2>
<b>Test a one-dimensional array of subregions with an initial pressure difference (C<sup>+</sup> and H<sub>2</sub> included by default)</b><p>
<img src="images/FCSys.Subregions.Examples.SubregionsD.png" alt="FCSys.Subregions.Examples.Subregions">

<h3>Information</h3>

Extends from <a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a> (Icon for runnable examples).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>0</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>-100*U.Pa</td><td>Initial pressure difference [m/(l.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>true</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> Subregions <font color="darkgreen">
  &quot;Test a one-dimensional array of subregions with an initial pressure difference (C<sup>+</sup> and H<sub>2</sub> included by default)&quot;</font>
  <font color="blue">extends </font><a href="http://build.openmodelica.org/Documentation/Modelica.Icons.html#Modelica.Icons.Example">Modelica.Icons.Example</a>;

  <font color="blue">parameter </font>Integer n_x=0 <font color="darkgreen">
    &quot;Number of discrete subregions along the x axis, besides the 2 side subregions&quot;</font>;
  <font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Q.Pressure</a> Deltap_IC=-100*U.Pa <font color="darkgreen">&quot;Initial pressure difference&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclC+&#39;=true <font color="darkgreen">&quot;Carbon plus (C<sup>+</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclSO3-&#39;=false <font color="darkgreen">
    &quot;Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;incle-&#39;=false <font color="darkgreen">&quot;Electrons (e<sup>-</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean &#39;inclH+&#39;=false <font color="darkgreen">&quot;Protons (H<sup>+</sup>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclH2=true <font color="darkgreen">&quot;Hydrogen (H<sub>2</sub>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclH2O=false <font color="darkgreen">&quot;Water vapor (H<sub>2</sub>O)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclN2=false <font color="darkgreen">&quot;Nitrogen (N<sub>2</sub>)&quot;</font>;
  <font color="blue">parameter </font>Boolean inclO2=false <font color="darkgreen">&quot;Oxygen (O<sub>2</sub>)&quot;</font>;

  <font color="blue">inner </font><a href="FCSys_Conditions.html#FCSys.Conditions.Environment">Conditions.Environment</a> environment(analysis=true);
  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregion1(
    L={1,1,1}*U.cm,
    inclFacesY=false,
    inclFacesZ=false,
    inclTransY=false,
    inclTransZ=false,
    gas(
      reduceTrans=true,
      reduceThermal=true,
      <font color="blue">final </font>inclH2=inclH2,
      <font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">final </font>inclN2=inclN2,
      <font color="blue">final </font>inclO2=inclO2,
      H2O(p_IC=environment.p - Deltap_IC/2),
      N2(p_IC=environment.p - Deltap_IC/2),
      O2(p_IC=environment.p - Deltap_IC/2),
      H2(p_IC=environment.p - Deltap_IC/2)),
    graphite(
      reduceThermal=true,
      <font color="blue">final </font>&#39;inclC+&#39;='inclC+',
      <font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;C+&#39;(V_IC=subregion1.V/1000)),
    ionomer(
      reduceThermal=true,
      <font color="blue">final </font>&#39;inclSO3-&#39;='inclSO3-',
      <font color="blue">final </font>&#39;inclH+&#39;='inclH+',
      &#39;SO3-&#39;(V_IC=subregion1.V/1000)),
    liquid(H2O(V_IC=subregion1.V/4)));

  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregions[n_x](
    <font color="blue">each </font>L={1,1,1}*U.cm,
    <font color="blue">each </font>inclTransY=false,
    <font color="blue">each </font>inclTransZ=false,
    <font color="blue">each </font>inclFacesY=false,
    <font color="blue">each </font>inclFacesZ=false,
    graphite(
      <font color="blue">each </font>reduceThermal=true,
      <font color="blue">each </font><font color="blue">final </font>&#39;inclC+&#39;='inclC+',
      <font color="blue">each </font><font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;C+&#39;(<font color="blue">each </font>V_IC=subregions[1].V/1000)),
    ionomer(
      <font color="blue">each </font>reduceThermal=true,
      <font color="blue">each </font><font color="blue">final </font>&#39;inclSO3-&#39;='inclSO3-',
      <font color="blue">each </font><font color="blue">final </font>&#39;inclH+&#39;='inclH+',
      &#39;SO3-&#39;(<font color="blue">each </font>V_IC=subregions[1].V/1000)),
    gas(
      <font color="blue">each </font>reduceThermal=true,
      <font color="blue">each </font>reduceTrans=true,
      <font color="blue">each </font><font color="blue">final </font>inclH2=inclH2,
      <font color="blue">each </font><font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">each </font><font color="blue">final </font>inclN2=inclN2,
      <font color="blue">each </font><font color="blue">final </font>inclO2=inclO2,
      H2(p_IC={environment.p - Deltap_IC/2 - i*Deltap_IC/(n_x + 1) <font color="blue">for </font>i<font color="blue"> in </font>1:
            n_x}),
      H2O(p_IC={environment.p - Deltap_IC/2 - i*Deltap_IC/(n_x + 1) <font color="blue">for </font>i<font color="blue"> in </font>1:
            n_x}),
      N2(p_IC={environment.p - Deltap_IC/2 - i*Deltap_IC/(n_x + 1) <font color="blue">for </font>i<font color="blue"> in </font>1:
            n_x}),
      O2(p_IC={environment.p - Deltap_IC/2 - i*Deltap_IC/(n_x + 1) <font color="blue">for </font>i<font color="blue"> in </font>1:
            n_x})),
    liquid(H2O(<font color="blue">each </font>V_IC=subregions[1].V/4))) <font color="blue">if </font>n_x &gt; 0;

  <a href="FCSys_Subregions.html#FCSys.Subregions.Subregion">FCSys.Subregions.Subregion</a> subregion2(
    L={1,1,1}*U.cm,
    inclFacesY=false,
    inclFacesZ=false,
    inclTransY=false,
    inclTransZ=false,
    gas(
      reduceTrans=true,
      reduceThermal=true,
      <font color="blue">final </font>inclH2=inclH2,
      <font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">final </font>inclN2=inclN2,
      <font color="blue">final </font>inclO2=inclO2,
      H2O(p_IC=environment.p + Deltap_IC/2),
      N2(p_IC=environment.p + Deltap_IC/2),
      O2(p_IC=environment.p + Deltap_IC/2),
      H2(p_IC=environment.p + Deltap_IC/2)),
    graphite(
      reduceThermal=true,
      <font color="blue">final </font>&#39;inclC+&#39;='inclC+',
      <font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;C+&#39;(V_IC=subregion2.V/1000)),
    ionomer(
      reduceThermal=true,
      <font color="blue">final </font>&#39;inclSO3-&#39;='inclSO3-',
      <font color="blue">final </font>&#39;inclH+&#39;='inclH+',
      &#39;SO3-&#39;(V_IC=subregion2.V/1000)));

  <a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows">FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows</a> BC1(
    ionomer(
      &#39;inclSO3-&#39;=false,
      <font color="blue">final </font>&#39;inclH+&#39;='inclH+',
      &#39;H+&#39;(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>)),

    graphite(
      &#39;inclC+&#39;=false,
      <font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;e-&#39;(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>)),

    gas(
      <font color="blue">final </font>inclH2=inclH2,
      <font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">final </font>inclN2=inclN2,
      <font color="blue">final </font>inclO2=inclO2,
      H2(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>),

      H2O(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>),

      N2(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>),

      O2(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>)));

<a href="FCSys_Conditions_ByConnector_FaceBus_Single.html#FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows">FCSys.Conditions.ByConnector.FaceBus.Single.FaceBusFlows</a> BC2(
    ionomer(
      &#39;inclSO3-&#39;=false,
      <font color="blue">final </font>&#39;inclH+&#39;='inclH+',
      &#39;H+&#39;(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>)),

    graphite(
      &#39;inclC+&#39;=false,
      <font color="blue">final </font>&#39;incle-&#39;='incle-',
      &#39;e-&#39;(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>)),

    gas(
      <font color="blue">final </font>inclH2=inclH2,
      <font color="blue">final </font>inclH2O=inclH2O,
      <font color="blue">final </font>inclN2=inclN2,
      <font color="blue">final </font>inclO2=inclO2,
      H2(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>),

      H2O(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>),

      N2(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>),

      O2(<font color="blue">redeclare </font><font color="blue">function</font> normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_Translational.html#FCSys.Conditions.ByConnector.Face.Single.Translational.velocity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.velocity</a>)));

<font color="blue">equation </font>
  <font color="red">connect</font>(subregion1.xPositive, subregions[1].xNegative);

  <font color="blue">for </font>i<font color="blue"> in </font>1:n_x - 1<font color="blue"> loop</font>
    <font color="red">connect</font>(subregions[i].xPositive, subregions[i + 1].xNegative) <font color="darkgreen">
      &quot;Not shown in the diagram&quot;</font>;
  <font color="blue">end for</font>;
  <font color="blue">if </font>n_x == 0<font color="blue"> then</font>
    <font color="red">connect</font>(subregion1.xPositive, subregion2.xNegative) <font color="darkgreen">
      &quot;Not shown in the diagram&quot;</font>;
  <font color="blue">end if</font>;
  <font color="red">connect</font>(subregions[n_x].xPositive, subregion2.xNegative);

  <font color="red">connect</font>(BC1.face, subregion1.xNegative);

  <font color="red">connect</font>(subregion2.xPositive, BC2.face);

<font color="blue">end </font>Subregions;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SaturationPressureI.png" alt="FCSys.Subregions.Examples.ThermalConduction" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.ThermalConduction"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.ThermalConduction</h2>
<b>Test thermal conduction (through solid)</b><p>
<img src="images/FCSys.Subregions.Examples.SubregionsD.png" alt="FCSys.Subregions.Examples.ThermalConduction">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Examples.Subregions</a> (Test a one-dimensional array of subregions with an initial pressure difference (C<sup>+</sup> and H<sub>2</sub> included by default)).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>6</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>-100*U.Pa</td><td>Initial pressure difference [m/(l.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>false</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> ThermalConduction <font color="darkgreen">&quot;Test thermal conduction (through solid)&quot;</font>
  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Examples.Subregions</a>(
    n_x=6,
    &#39;inclC+&#39;=true,
    inclH2=false,
    subregion1(graphite(&#39;C+&#39;(T_IC=environment.T + 30*U.K, initMaterial=
              InitScalar.pressure))),
    subregions(graphite(&#39;C+&#39;(<font color="blue">each </font>initMaterial=InitScalar.pressure))),
    subregion2(graphite(&#39;C+&#39;(initMaterial=InitScalar.pressure))));

<font color="blue">end </font>ThermalConduction;
</pre>
<hr>

<h2><img src="images/FCSys.Subregions.Examples.SaturationPressureI.png" alt="FCSys.Subregions.Examples.ThermalConductionConvection" align=RIGHT border=1 width=80  height=80 >
<a name="FCSys.Subregions.Examples.ThermalConductionConvection"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.ThermalConductionConvection</h2>
<b>Test combined thermal conduction and convection</b><p>
<img src="images/FCSys.Subregions.Examples.SubregionsD.png" alt="FCSys.Subregions.Examples.ThermalConductionConvection">

<h3>Information</h3>

Extends from <a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Examples.Subregions</a> (Test a one-dimensional array of subregions with an initial pressure difference (C<sup>+</sup> and H<sub>2</sub> included by default)).
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Integer</td><td>n_x</td><td>6</td><td>Number of discrete subregions along the x axis, besides the 2 side subregions</td></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Pressure">Pressure</a></td><td>Deltap_IC</td><td>-100*U.Pa</td><td>Initial pressure difference [m/(l.T2)]</td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Species</td></tr>
<tr><td>Boolean</td><td>&#39;inclC+&#39;</td><td>true</td><td>Carbon plus (C<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclSO3-&#39;</td><td>false</td><td>Nafion sulfonate (C<sub>19</sub>HF<sub>37</sub>O<sub>5</sub>S)</td></tr>
<tr><td>Boolean</td><td>&#39;incle-&#39;</td><td>false</td><td>Electrons (e<sup>-</sup>)</td></tr>
<tr><td>Boolean</td><td>&#39;inclH+&#39;</td><td>false</td><td>Protons (H<sup>+</sup>)</td></tr>
<tr><td>Boolean</td><td>inclH2</td><td>false</td><td>Hydrogen (H<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclH2O</td><td>false</td><td>Water vapor (H<sub>2</sub>O)</td></tr>
<tr><td>Boolean</td><td>inclN2</td><td>true</td><td>Nitrogen (N<sub>2</sub>)</td></tr>
<tr><td>Boolean</td><td>inclO2</td><td>false</td><td>Oxygen (O<sub>2</sub>)</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> ThermalConductionConvection <font color="darkgreen">
  &quot;Test combined thermal conduction and convection&quot;</font>

  <font color="blue">extends </font><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples.Subregions">Examples.Subregions</a>(
    n_x=6,
    &#39;inclC+&#39;=true,
    inclH2=false,
    inclN2=true,
    subregion1(gas(k_DT={0.5,1,1}, N2(
          T_IC=environment.T + 30*U.K,
          p_IC=environment.p,
          T(stateSelect=StateSelect.always),
          phi(displayUnit=&quot;mm/s&quot;))), graphite(k_DT={0.5,1,1}, &#39;C+&#39;(
          T_IC=environment.T + 30*U.K,
          V_IC=0.5*subregion1.V,
          T(stateSelect=StateSelect.always)))),
    subregions(<font color="blue">each </font>gas(k_DT={0.5,1,1}, N2(
          p_IC=environment.p,
          T(stateSelect=StateSelect.always),
          phi(displayUnit=&quot;mm/s&quot;))), <font color="blue">each </font>graphite(k_DT={0.5,1,1}, &#39;C+&#39;(V_IC=0.5
              *subregions[1].V, T(stateSelect=StateSelect.always)))),
    subregion2(gas(k_DT={0.5,1,1}, N2(
          p_IC=environment.p,
          phi(displayUnit=&quot;mm/s&quot;),
          T(stateSelect=StateSelect.always))), graphite(k_DT={0.5,1,1}, &#39;C+&#39;(
            V_IC=0.5*subregion2.V, T(stateSelect=StateSelect.always)))));

<font color="blue">end </font>ThermalConductionConvection;
</pre>
<hr>

<h2><a name="FCSys.Subregions.Examples.ChargeLayer"></a><a href="FCSys_Subregions_Examples.html#FCSys.Subregions.Examples">FCSys.Subregions.Examples</a>.ChargeLayer</h2>

<img src="images/FCSys.Subregions.Examples.ChargeLayerD.png" alt="FCSys.Subregions.Examples.ChargeLayer">
<p>

<h3>Parameters</h3>

<p>
<table border=1 cellspacing=0 cellpadding=2>
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Length</a></td><td>L[Axis]</td><td>{10*U.cm,10*U.cm,0.1*U.mm}</td><td>Lengths [l]</td></tr>
<TR bgcolor="#c0c0c0"><TD colspan=4><b>Assumptions</b></td></tr>
<TR bgcolor="#e0e0e0"><TD colspan=4>Axes with translational momentum included</td></tr>
<tr><td>Boolean</td><td>inclTransX</td><td>true</td><td>X</td></tr>
<tr><td>Boolean</td><td>inclTransY</td><td>false</td><td>Y</td></tr>
<tr><td>Boolean</td><td>inclTransZ</td><td>false</td><td>Z</td></tr>
</table>
<p>

<h3>Modelica definition</h3>

<pre>
<font color="blue">model</font> ChargeLayer
  <font color="blue">import </font><a href="FCSys_Utilities.html#FCSys.Utilities.cartWrap">FCSys.Utilities.cartWrap</a>;
  <font color="blue">import </font><a href="FCSys_Utilities.html#FCSys.Utilities.countTrue">FCSys.Utilities.countTrue</a>;
  <font color="blue">import </font><a href="FCSys_Utilities.html#FCSys.Utilities.enumerate">FCSys.Utilities.enumerate</a>;
  <font color="blue">import </font><a href="FCSys_Utilities.html#FCSys.Utilities.index">FCSys.Utilities.index</a>;

  <font color="darkgreen">// Geometry</font>
  <font color="blue">inner </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Length">Q.Length</a> L[Axis](<font color="blue">each </font>min=Modelica.Constants.small) = {10*U.cm,
    10*U.cm,0.1*U.mm} <font color="darkgreen">&quot;Lengths&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font><a href="FCSys_Quantities.html#FCSys.Quantities.Area">Q.Area</a> A[Axis]={L[<font color="red">cartWrap</font>(axis + 1)]*L[<font color="red">cartWrap</font>(axis +
      2)] <font color="blue">for </font>axis<font color="blue"> in </font>Axis} <font color="darkgreen">&quot;Cross-sectional areas&quot;</font>;

  <font color="darkgreen">// Assumptions</font>
  <font color="darkgreen">// -----------</font>
  <font color="darkgreen">// Included components of translational momentum</font>
  <font color="blue">parameter </font>Boolean inclTransX=true <font color="darkgreen">&quot;X&quot;</font>;
  <font color="blue">parameter </font>Boolean inclTransY=false <font color="darkgreen">&quot;Y&quot;</font>;
  <font color="blue">parameter </font>Boolean inclTransZ=false <font color="darkgreen">&quot;Z&quot;</font>;

  <a href="FCSys_Conditions_Adapters.html#FCSys.Conditions.Adapters.ChemicalFace">FCSys.Conditions.Adapters.ChemicalFace</a> chargeLayer(<font color="blue">redeclare </font><a href="FCSys_Connectors.html#FCSys.Connectors.Reaction">FCSys.Connectors.Reaction</a>
      electrical);
  <a href="FCSys_Conditions_ByConnector_Reaction.html#FCSys.Conditions.ByConnector.Reaction.ReactionEfforts">FCSys.Conditions.ByConnector.Reaction.ReactionEfforts</a> electrochem(
    <font color="blue">redeclare </font><a href="FCSys_Connectors.html#FCSys.Connectors.Reaction">FCSys.Connectors.Reaction</a> electrochem,
    <font color="blue">final </font>inclTransX=inclTransX,
    <font color="blue">final </font>inclTransY=inclTransY,
    <font color="blue">final </font>inclTransZ=inclTransZ);
  <a href="FCSys_Conditions_ByConnector_Face_Single.html#FCSys.Conditions.ByConnector.Face.Single.FaceEfforts">Conditions.ByConnector.Face.Single.FaceEfforts</a> face(<font color="blue">redeclare </font><font color="blue">function</font>
      normalSpec = <a href="FCSys_Conditions_ByConnector_Face_Single_TranslationalNormal.html#FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.currentDensity">FCSys.Conditions.ByConnector.Face.Single.TranslationalNormal.currentDensity</a>);

<font color="blue">protected </font>
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Boolean inclTrans[Axis]={inclTransX,inclTransY,
      inclTransZ} <font color="darkgreen">
    &quot;true, if each component of translational momentum is included&quot;</font>;
  <font color="blue">final </font><font color="blue">inner </font><font color="blue">parameter </font>Integer n_trans=<font color="red">countTrue</font>(inclTrans) <font color="darkgreen">
    &quot;Number of components of translational momentum&quot;</font>;
<font color="blue">equation </font>
  <font color="red">connect</font>(chargeLayer.electrical, reaction.electrochem);
  <font color="red">connect</font>(face.face, chargeLayer.face);
<font color="blue">end </font>ChargeLayer;
</pre>
      </div>
    </div>
  </div>
</div>
<div class="footer">
  &copy; Copyright 2012&ndash;2013, <span id="_author5" itemprop="author" itemscope itemtype="http://schema.org/Person">
<span itemprop="name">Kevin Davies</span></span>,
<span id="_publisher7" itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
<span itemprop="name">Georgia Tech Research Corporation</span></span>. Last updated Tue Aug  6 13:08:32 2013.
</div>
</span></body></html>
