<HTML>
<HEAD>
<TITLE>FCSys.Tests.Characteristics</TITLE>
<META name="HTML-Generator" content="Dymola">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Characteristics<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="FCSys.Tests.Characteristics"></A><A HREF="FCSys_Tests.html#FCSys.Tests"
>FCSys.Tests</A>.Characteristics</H2>
<P><H3>Information</H3></P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons_Package.html#Modelica.Icons.Package"
>Modelica.Icons.Package</A> (Icon for standard packages).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="FCSys.Tests.Subregions.RunAllS.png" ALT="FCSys.Tests.Characteristics.RunAll" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_Characteristics.html#FCSys.Tests.Characteristics.RunAll"
>RunAll</A>
</TD><TD>Run all of the test models for the <a href="modelica://FCSys.Characteristics">Characteristics</a> package</TD></TR>
<TR><TD><IMG SRC="FCSys.Tests.Subregions.RunAllS.png" ALT="FCSys.Tests.Characteristics.TestCellPotentialsGas" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_Characteristics.html#FCSys.Tests.Characteristics.TestCellPotentialsGas"
>TestCellPotentialsGas</A>
</TD><TD>Test the potentials of the reaction 2H<sub>2</sub> + O<sub>2</sub> &#8652; 2H<sub>2</sub>O<sub>(g)</sub></TD></TR>
<TR><TD><IMG SRC="FCSys.Tests.Subregions.RunAllS.png" ALT="FCSys.Tests.Characteristics.TestCellPotentialsLiquid" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_Characteristics.html#FCSys.Tests.Characteristics.TestCellPotentialsLiquid"
>TestCellPotentialsLiquid</A>
</TD><TD>Test the potentials of the reaction 2H<sub>2</sub> + O<sub>2</sub> &#8652; 2H<sub>2</sub>O<sub>(l)</sub></TD></TR>
<TR><TD><IMG SRC="FCSys.Tests.Characteristics.H2S.png" ALT="FCSys.Tests.Characteristics.H2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_Characteristics_H2.html#FCSys.Tests.Characteristics.H2"
>H2</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="FCSys.Tests.Characteristics.H2S.png" ALT="FCSys.Tests.Characteristics.H2O" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_Characteristics_H2O.html#FCSys.Tests.Characteristics.H2O"
>H2O</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="FCSys.Tests.Characteristics.H2S.png" ALT="FCSys.Tests.Characteristics.N2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_Characteristics_N2.html#FCSys.Tests.Characteristics.N2"
>N2</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="FCSys.Tests.Characteristics.H2S.png" ALT="FCSys.Tests.Characteristics.O2" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_Characteristics_O2.html#FCSys.Tests.Characteristics.O2"
>O2</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="FCSys.Tests.Characteristics.H2S.png" ALT="FCSys.Tests.Characteristics.BaseClasses" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_Tests_Characteristics_BaseClasses.html#FCSys.Tests.Characteristics.BaseClasses"
>BaseClasses</A>
</TD><TD>&nbsp;</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE RunAll<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.Tests.Characteristics.RunAllI.png" ALT="FCSys.Tests.Characteristics.RunAll" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.Tests.Characteristics.RunAll"></A><A HREF="FCSys_Tests_Characteristics.html#FCSys.Tests.Characteristics"
>FCSys.Tests.Characteristics</A>.RunAll</H2>
<B>Run all of the test models for the <a href="modelica://FCSys.Characteristics">Characteristics</a> package</B><p>
<P><H3>Information</H3></P>
<PRE></pre><p>If this model simulates without failure,
  then the test has passed.</p><pre></PRE><P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> RunAll <font color="darkgreen">
  &quot;</pre>Run all of the test models for the <a href=\"modelica://FCSys.Characteristics\">Characteristics</a> package<pre>&quot;</font>
  <font color="blue">extends </font><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <A HREF="FCSys_Tests_Characteristics.html#FCSys.Tests.Characteristics.TestCellPotentialsGas"
>TestCellPotentialsGas</A> testCellPotentialsGas;
  <A HREF="FCSys_Tests_Characteristics.html#FCSys.Tests.Characteristics.TestCellPotentialsLiquid"
>TestCellPotentialsLiquid</A> testCellPotentialsLiquid;
  <A HREF="FCSys_Tests_Characteristics_H2_Gas.html#FCSys.Tests.Characteristics.H2.Gas.RunAll"
>H2.Gas.RunAll</A> testH2Gas;
  <A HREF="FCSys_Tests_Characteristics_H2O.html#FCSys.Tests.Characteristics.H2O.RunAll"
>H2O.RunAll</A> testH2O;
  <A HREF="FCSys_Tests_Characteristics_N2_Gas.html#FCSys.Tests.Characteristics.N2.Gas.RunAll"
>N2.Gas.RunAll</A> testN2Gas;
  <A HREF="FCSys_Tests_Characteristics_O2_Gas.html#FCSys.Tests.Characteristics.O2.Gas.RunAll"
>O2.Gas.RunAll</A> testO2Gas;
  <A HREF="FCSys_Tests_Characteristics_BaseClasses_Characteristic.html#FCSys.Tests.Characteristics.BaseClasses.Characteristic.RunAll"
>BaseClasses.Characteristic.RunAll</A> testBaseClassesCharacteristic;
<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>RunAll;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TestCellPotentialsGas<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.Tests.Characteristics.RunAllI.png" ALT="FCSys.Tests.Characteristics.TestCellPotentialsGas" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.Tests.Characteristics.TestCellPotentialsGas"></A><A HREF="FCSys_Tests_Characteristics.html#FCSys.Tests.Characteristics"
>FCSys.Tests.Characteristics</A>.TestCellPotentialsGas</H2>
<B>Test the potentials of the reaction 2H<sub>2</sub> + O<sub>2</sub> &#8652; 2H<sub>2</sub>O<sub>(g)</sub></B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A> (Icon for runnable examples).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute"
>TemperatureAbsolute</A></TD><TD>T[:]</TD><TD>{298,373.15,473.15,673.15,87...</TD><TD>Temperatures</TD></TR>
<TR><TD><A HREF="FCSys_Quantities.html#FCSys.Quantities.Potential"
>Potential</A></TD><TD>v_OC_table[size(T, 1)]</TD><TD>0.5*{-228590,-225.2e3,-220.4...</TD><TD>Tabulated open circuit potentials [l2.m/(N.T2)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> TestCellPotentialsGas <font color="darkgreen">
  &quot;</pre>Test the potentials of the reaction 2H<sub>2</sub> + O<sub>2</sub> &#8652; 2H<sub>2</sub>O<sub>(g)</sub><pre>&quot;</font>
  <font color="blue">import </font><A HREF="FCSys_Characteristics.html#FCSys.Characteristics"
>FCSys.Characteristics</A>.*;
  <font color="blue">import </font><A HREF="FCSys_Test.html#FCSys.Test.assertValues"
>FCSys.Test.assertValues</A>;
  <font color="blue">extends </font><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</A>;

  <font color="blue">parameter </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute"
>Q.TemperatureAbsolute</A> T[:]={298,373.15,473.15,673.15,873.15,1073.15,
      1273.15}*U.K <font color="darkgreen">&quot;Temperatures&quot;</font>;
  <font color="blue">final </font><font color="blue">parameter </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.Potential"
>Q.Potential</A> v_OC_model[:]=<font color="red">v_OC</font>(T) <font color="darkgreen">
    &quot;Correlated open circuit potentials&quot;</font>;
  <font color="darkgreen">// Note:  The potentials are scaled in terms of electrons.</font>
  <font color="blue">parameter </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.Potential"
>Q.Potential</A> v_OC_table[<font color="red">size</font>(T, 1)]=0.5*{-228590,-225.2e3,-220.4e3,-210.3e3,
      -199.6e3,-188.6e3,-177.4e3}*U.J/U.mol <font color="darkgreen">&quot;Tabulated open circuit potentials&quot;</font>;
  <font color="darkgreen">// The first entry is based on [Moran2004, p. 803].  The others are</font>
  <font color="darkgreen">// from [Larminie2003, p. 28].</font>

<font color="blue">protected </font>
  <font color="blue">replaceable </font><font color="blue">function</font> v_OC <font color="darkgreen">&quot;Open-circuit voltage&quot;</font>
    <font color="blue">input </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute"
>Q.TemperatureAbsolute</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
    <font color="blue">input </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.PressureAbsolute"
>Q.PressureAbsolute</A> p=1*U.atm <font color="darkgreen">&quot;Pressure&quot;</font>;
    <font color="blue">output </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.Potential"
>Q.Potential</A> v_OC <font color="darkgreen">&quot;Potential&quot;</font>;

  <font color="blue">algorithm </font>
    v_OC := 0.5*(<font color="red">H2O.Gas.g</font>(T, p) - <font color="red">H2.Gas.g</font>(T, p) - 0.5*<font color="red">O2.Gas.g</font>(T, p));

  <font color="blue">end </font>v_OC;

<font color="blue">initial </font><font color="blue">equation </font>
  <font color="red">assertValues</font>(
    v_OC_model,
    v_OC_table,
    1e-3*U.V,
    name=&quot;open circuit potential&quot;);
  <font color="darkgreen">// Note:  In Dymola 7.4, the v_OC() function call can&#39;t be used</font>
  <font color="darkgreen">// directly here.  Instead, intermediate variables must be used.  Otherwise,</font>
  <font color="darkgreen">// the result is different.</font>

<font color="blue">end </font>TestCellPotentialsGas;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE TestCellPotentialsLiquid<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.Tests.Characteristics.RunAllI.png" ALT="FCSys.Tests.Characteristics.TestCellPotentialsLiquid" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.Tests.Characteristics.TestCellPotentialsLiquid"></A><A HREF="FCSys_Tests_Characteristics.html#FCSys.Tests.Characteristics"
>FCSys.Tests.Characteristics</A>.TestCellPotentialsLiquid</H2>
<B>Test the potentials of the reaction 2H<sub>2</sub> + O<sub>2</sub> &#8652; 2H<sub>2</sub>O<sub>(l)</sub></B><p>
<P><H3>Information</H3></P>
Extends from <A HREF="FCSys_Tests_Characteristics.html#FCSys.Tests.Characteristics.TestCellPotentialsGas"
>TestCellPotentialsGas</A> (Test the potentials of the reaction 2H<sub>2</sub> + O<sub>2</sub> &#8652; 2H<sub>2</sub>O<sub>(g)</sub>).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD><A HREF="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute"
>TemperatureAbsolute</A></TD><TD>T[:]</TD><TD>{298,298.15,353.15}*U.K</TD><TD>Temperatures</TD></TR>
<TR><TD><A HREF="FCSys_Quantities.html#FCSys.Quantities.Potential"
>Potential</A></TD><TD>v_OC_table[size(T, 1)]</TD><TD>0.5*{-237180,-237.2e3,-228.2...</TD><TD>Tabulated open circuit potentials [l2.m/(N.T2)]</TD></TR>
<TR><TD><A HREF="FCSys_Quantities.html#FCSys.Quantities.Potential"
>Potential</A></TD><TD>v_therm_table[size(T, 1)]</TD><TD>0.5*{-285830,-237.2e3/0.83,-...</TD><TD>Tabulated thermodynamic potentials [l2.m/(N.T2)]</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> TestCellPotentialsLiquid <font color="darkgreen">
  &quot;</pre>Test the potentials of the reaction 2H<sub>2</sub> + O<sub>2</sub> &#8652; 2H<sub>2</sub>O<sub>(l)</sub><pre>&quot;</font>
  <font color="blue">import </font><A HREF="FCSys_Characteristics.html#FCSys.Characteristics"
>FCSys.Characteristics</A>.*;
  <font color="blue">import </font><A HREF="FCSys_Test.html#FCSys.Test.assertValues"
>FCSys.Test.assertValues</A>;
  <font color="blue">extends </font><A HREF="FCSys_Tests_Characteristics.html#FCSys.Tests.Characteristics.TestCellPotentialsGas"
>TestCellPotentialsGas</A>(T={298,298.15,353.15}*U.K, v_OC_table=0.5*{-237180,
        -237.2e3,-228.2e3}*U.J/U.mol);

  <font color="blue">final </font><font color="blue">parameter </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.Potential"
>Q.Potential</A> v_therm_model[:]=<font color="red">v_therm</font>(T) <font color="darkgreen">
    &quot;Correlated thermodynamic potentials&quot;</font>;
  <font color="blue">parameter </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.Potential"
>Q.Potential</A> v_therm_table[<font color="red">size</font>(T, 1)]=0.5*{-285830,-237.2e3/0.83,-228.2e3
      /0.80}*U.J/U.mol <font color="darkgreen">&quot;Tabulated thermodynamic potentials&quot;</font>;
  <font color="darkgreen">// The first entry is based on [Moran2004, p. 803].  The others are</font>
  <font color="darkgreen">// from [Larminie2003, pp. 28 &amp; 33].</font>

<font color="blue">protected </font>
  <font color="blue">redeclare </font><font color="blue">function</font> v_OC <font color="darkgreen">&quot;Open-circuit voltage&quot;</font>
    <font color="blue">input </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute"
>Q.TemperatureAbsolute</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
    <font color="blue">input </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.PressureAbsolute"
>Q.PressureAbsolute</A> p=1*U.atm <font color="darkgreen">&quot;Pressure&quot;</font>;
    <font color="blue">output </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.Potential"
>Q.Potential</A> v_OC <font color="darkgreen">&quot;Potential&quot;</font>;

  <font color="blue">algorithm </font>
    v_OC := 0.5*(<font color="red">H2O.Liquid.g</font>(T, p) - <font color="red">H2.Gas.g</font>(T, p) - 0.5*<font color="red">O2.Gas.g</font>(T, p));

  <font color="blue">end </font>v_OC;

  <textblock type="model" expanded="false" path="FCSys.Tests.Characteristics.TestCellPotentialsLiquid.v_therm"><font color="blue">function</font> v_therm <font color="darkgreen">&quot;Thermodynamic potential&quot;</font>
    <font color="blue">input </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.TemperatureAbsolute"
>Q.TemperatureAbsolute</A> T <font color="darkgreen">&quot;Temperature&quot;</font>;
    <font color="blue">input </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.PressureAbsolute"
>Q.PressureAbsolute</A> p=1*U.atm <font color="darkgreen">&quot;Pressure&quot;</font>;
    <font color="blue">output </font><A HREF="FCSys_Quantities.html#FCSys.Quantities.Potential"
>Q.Potential</A> v_therm <font color="darkgreen">&quot;Potential&quot;</font>;

  <font color="blue">algorithm </font>
    v_therm := 0.5*(<font color="red">H2O.Liquid.h</font>(T, p) - <font color="red">H2.Gas.h</font>(T, p) - 0.5*<font color="red">O2.Gas.h</font>(T, p));

  <font color="blue">end </font>v_therm</textblock>;

<font color="blue">initial </font><font color="blue">equation </font>
  <font color="red">assertValues</font>(
    v_therm_model,
    v_therm_table,
    1e-2*U.V,
    name=&quot;thermodynamic potential&quot;);

<font color="blue">end </font>TestCellPotentialsLiquid;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.Dymola.com/">Dymola</a> Fri Mar 22 01:12:38 2013.
</address></BODY>
</HTML>
