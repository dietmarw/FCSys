<HTML>
<HEAD>
<TITLE>FCSys.WorkInProgress.Blocks.Discrete.Plants</TITLE>
<META name="HTML-Generator" content="Dymola">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial,sans-serif; }
pre     { font-size:  9pt; font-family: Courier,monospace;}
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address {                  font-weight: normal} 
td      { solid #000; vertical-align:top; }
th      { solid #000; vertical-align:top; font-weight: bold; }
table   { solid #000; border-collapse: collapse;}
</style>
</HEAD>
<BODY><P>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Plants<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><A NAME="FCSys.WorkInProgress.Blocks.Discrete.Plants"></A><A HREF="FCSys_WorkInProgress_Blocks_Discrete.html#FCSys.WorkInProgress.Blocks.Discrete"
>FCSys.WorkInProgress.Blocks.Discrete</A>.Plants</H2>
<P><H3>Information</H3></P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Icons_Package.html#Modelica.Icons.Package"
>Modelica.Icons.Package</A> (Icon for standard packages).
<P><H3>Package Content</H3><p>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2 >
<TR><TH >Name</TH><TH>Description</TH></TR>
<TR><TD><IMG SRC="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpaceS.png" ALT="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpace" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_WorkInProgress_Blocks_Discrete_Plants.html#FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpace"
>StateSpace</A>
</TD><TD>Discrete State Space block</TD></TR>
<TR><TD><IMG SRC="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpaceS.png" ALT="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpaceWNoise" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_WorkInProgress_Blocks_Discrete_Plants.html#FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpaceWNoise"
>StateSpaceWNoise</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="FCSys.WorkInProgress.Blocks.Discrete.Plants.PendulumS.png" ALT="FCSys.WorkInProgress.Blocks.Discrete.Plants.Pendulum" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_WorkInProgress_Blocks_Discrete_Plants.html#FCSys.WorkInProgress.Blocks.Discrete.Plants.Pendulum"
>Pendulum</A>
</TD><TD>&nbsp;</TD></TR>
<TR><TD><IMG SRC="FCSys.WorkInProgress.Blocks.Discrete.Plants.BaseClassesS.png" ALT="FCSys.WorkInProgress.Blocks.Discrete.Plants.BaseClasses" WIDTH=20  HEIGHT=20 ALIGN = TOP >&nbsp;<A HREF="FCSys_WorkInProgress_Blocks_Discrete_Plants_BaseClasses.html#FCSys.WorkInProgress.Blocks.Discrete.Plants.BaseClasses"
>BaseClasses</A>
</TD><TD>Base classes (not generally for direct use)</TD></TR>
</TABLE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE StateSpace<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpaceI.png" ALT="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpace" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpace"></A><A HREF="FCSys_WorkInProgress_Blocks_Discrete_Plants.html#FCSys.WorkInProgress.Blocks.Discrete.Plants"
>FCSys.WorkInProgress.Blocks.Discrete.Plants</A>.StateSpace</H2>
<B>Discrete State Space block</B><p>
<IMG SRC="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpaceD.png" ALT="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpace">
<P><H3>Information</H3></P>
<PRE></pre>
<p>
The <b>discrete state space</b> block defines the relation
between the input u=inPort.signal and the output
y=outPort.signal in state space form:
</p>
<pre>
    x = A * pre(x) + B * u
    y = C * pre(x) + D * u
</pre>
<p>
where pre(x) is the value of the discrete state x at
the previous sample time instant.
The input is a vector of length nu, the output is a vector
of length n_y and n_x is the number of states. Accordingly
</p>
<pre>
        A has the dimension: A(n_x,n_x),
        B has the dimension: B(n_x,nu),
        C has the dimension: 'C+'(n_y,n_x),
        D has the dimension: D(n_y,nu)
</pre>
<p>
Example:
</p>
<pre>
     parameter: A = [0.12, 2;3, 1.5]
     parameter: B = [2, 7;3, 1]
     parameter: C = [0.1, 2]
     parameter: D = zeros(n_y,nu)

results in the following equations:
  [x[1]]   [0.12  2.00] [pre(x[1])]   [2.0  7.0] [u[1]]
  [    ] = [          ]*[         ] + [        ]*[    ]
  [x[2]]   [3.00  1.50] [pre(x[2])]   [0.1  2.0] [u[2]]
                             [pre(x[1])]            [u[1]]
       y[1]   = [0.1  2.0] * [         ] + [0  0] * [    ]
                             [pre(x[2])]            [u[2]]
</pre>
<pre>
</PRE><P>
Extends from <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.DiscreteMIMO"
>Modelica.Blocks.Interfaces.DiscreteMIMO</A> (Multiple Input Multiple Output discrete control block).
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>Real</TD><TD>A[:, size(A, 1)]</TD><TD>&nbsp;</TD><TD>Matrix A of state space model</TD></TR>
<TR><TD>Real</TD><TD>B[size(A, 1), :]</TD><TD>&nbsp;</TD><TD>Matrix B of state space model</TD></TR>
<TR><TD>Real</TD><TD>C[:, size(A, 1)]</TD><TD>&nbsp;</TD><TD>Matrix C of state space model</TD></TR>
<TR><TD>Real</TD><TD>D[size(C, 1), size(B, 2)]</TD><TD>zeros(size(C, 1), size(B, 2))</TD><TD>Matrix D of state space model</TD></TR>
<TR><TD><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>samplePeriod</TD><TD>&nbsp;</TD><TD>Sample period of component [s]</TD></TR>
<TR><TD><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</A></TD><TD>startTime</TD><TD>0</TD><TD>First sample time instant [s]</TD></TR>
<TR><TD>Integer</TD><TD>nin</TD><TD>size(B, 2)</TD><TD>Number of inputs</TD></TR>
<TR><TD>Integer</TD><TD>nout</TD><TD>size(C, 1)</TD><TD>Number of outputs</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</A></TD><TD>u[nin]</TD><TD>Continuous input signals</TD></TR>
<TR><TD>output <A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</A></TD><TD>y[nout]</TD><TD>Continuous output signals</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">block</font> StateSpace <font color="darkgreen">&quot;Discrete State Space block&quot;</font>
  <font color="blue">parameter </font>Real A[:, <font color="red">size</font>(A, 1)] <font color="darkgreen">&quot;Matrix A of state space model&quot;</font>;
  <font color="blue">parameter </font>Real B[<font color="red">size</font>(A, 1), :] <font color="darkgreen">&quot;Matrix B of state space model&quot;</font>;
  <font color="blue">parameter </font>Real C[:, <font color="red">size</font>(A, 1)] <font color="darkgreen">&quot;Matrix C of state space model&quot;</font>;
  <font color="blue">parameter </font>Real D[<font color="red">size</font>(C, 1), <font color="red">size</font>(B, 2)]=<font color="red">zeros</font>(<font color="red">size</font>(C, 1), <font color="red">size</font>(B, 2)) <font color="darkgreen">
    &quot;Matrix D of state space model&quot;</font>;
  <font color="blue">extends </font><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.DiscreteMIMO"
>Modelica.Blocks.Interfaces.DiscreteMIMO</A>(<font color="blue">final </font>nin=<font color="red">size</font>(B, 2), <font color="blue">final </font>
      nout=<font color="red">size</font>(C, 1));
  <font color="blue">output </font>Real x[<font color="red">size</font>(A, 1)] <font color="darkgreen">&quot;State vector&quot;</font>;

<font color="blue">equation </font>
  <font color="blue">when </font>sampleTrigger<font color="blue"> then</font>
    x = A*<font color="red">pre</font>(x) + B*u;
    y = C*<font color="red">pre</font>(x) + D*u;
  <font color="blue">end when</font>;
<textblock type="annotcomp" expanded="false"><font color="blue">end </font>StateSpace;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE StateSpaceWNoise<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpaceWNoiseI.png" ALT="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpaceWNoise" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpaceWNoise"></A><A HREF="FCSys_WorkInProgress_Blocks_Discrete_Plants.html#FCSys.WorkInProgress.Blocks.Discrete.Plants"
>FCSys.WorkInProgress.Blocks.Discrete.Plants</A>.StateSpaceWNoise</H2>
<IMG SRC="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpaceWNoiseD.png" ALT="FCSys.WorkInProgress.Blocks.Discrete.Plants.StateSpaceWNoise">
<P><H3>Information</H3></P>
Extends from <A HREF="FCSys_WorkInProgress_Blocks_Discrete_Plants_BaseClasses.html#FCSys.WorkInProgress.Blocks.Discrete.Plants.BaseClasses.PartialPlant"
>FCSys.WorkInProgress.Blocks.Discrete.Plants.BaseClasses.PartialPlant</A>.
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>&nbsp;</TD><TD>samplePeriod</TD><TD>&nbsp;</TD><TD>Sample period of species</TD></TR>
<TR><TD>&nbsp;</TD><TD>startTime</TD><TD>0</TD><TD>First sample time instant</TD></TR>
<TR><TD><A HREF="FCSys_WorkInProgress_Blocks_Discrete.html#FCSys.WorkInProgress.Blocks.Discrete.ZeroOrderHold"
>ZeroOrderHold</A></TD><TD>hold</TD><TD>redeclare FCSys.WorkInProgre...</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.FirstOrder"
>FirstOrder</A></TD><TD>antiAliasing[n_out]</TD><TD>redeclare Modelica.Blocks.Co...</TD><TD>&nbsp;</TD></TR>
<TR><TD>Real</TD><TD>A[:, size(A, 1)]</TD><TD>identity(2)</TD><TD>System gain of continuous-time state space model (state to derivative of state)</TD></TR>
<TR><TD>Real</TD><TD>B[size(A, 1), :]</TD><TD>identity(2)</TD><TD>Input gain of continuous-time state space model (actuation to derivative of state)</TD></TR>
<TR><TD>Real</TD><TD>C[:, size(A, 1)]</TD><TD>identity(2)</TD><TD>Output gain of continuous-time state space model (state to measurement)</TD></TR>
<TR bgcolor="#e0e0e0"><TD colspan=4>Initial Conditions</TD></TR>
<TR><TD>Real</TD><TD>x_0[n_x]</TD><TD>zeros(n_x)</TD><TD>Initial states of the plant</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="FCSys_Connectors.html#FCSys.Connectors.RealInput"
>RealInput</A></TD><TD>u[n_in]</TD><TD>Connector of Real input signals</TD></TR>
<TR><TD>output <A HREF="FCSys_Connectors.html#FCSys.Connectors.RealOutput"
>RealOutput</A></TD><TD>y[n_out]</TD><TD>Connector of Real output signals</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> StateSpaceWNoise
  <font color="blue">extends </font><A HREF="FCSys_WorkInProgress_Blocks_Discrete_Plants_BaseClasses.html#FCSys.WorkInProgress.Blocks.Discrete.Plants.BaseClasses.PartialPlant"
>FCSys.WorkInProgress.Blocks.Discrete.Plants.BaseClasses.PartialPlant</A>(<font color="blue">
      redeclare </font><A HREF="FCSys_WorkInProgress_Blocks_Continuous_Plants.html#FCSys.WorkInProgress.Blocks.Continuous.Plants.StateSpace"
>Continuous.Plants.StateSpace</A> plant(
      A=A,
      B=B,
      C=C,
      x_0=x_0));
  <font color="blue">parameter </font>Real A[:, <font color="red">size</font>(A, 1)]=<font color="red">identity</font>(2) <font color="darkgreen">
    &quot;System gain of continuous-time state space model (state to derivative of state)&quot;</font>;
  <font color="blue">parameter </font>Real B[<font color="red">size</font>(A, 1), :]=<font color="red">identity</font>(2) <font color="darkgreen">
    &quot;Input gain of continuous-time state space model (actuation to derivative of state)&quot;</font>;
  <font color="blue">parameter </font>Real C[:, <font color="red">size</font>(A, 1)]=<font color="red">identity</font>(2) <font color="darkgreen">
    &quot;Output gain of continuous-time state space model (state to measurement)&quot;</font>;
  <font color="darkgreen">// final parameter Integer n_in=size(B, 2) &quot;Number of actuators&quot;;</font>
  <font color="blue">final </font><font color="blue">parameter </font>Integer n_x=<font color="red">size</font>(A, 1) <font color="darkgreen">&quot;Number of states&quot;</font>;
  <font color="darkgreen">// final parameter Integer n_out=size(C, 1) &quot;Number of sensors&quot;;</font>
  <font color="blue">parameter </font>Real x_0[n_x]=<font color="red">zeros</font>(n_x) <font color="darkgreen">&quot;Initial states of the plant&quot;</font>;
<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>StateSpaceWNoise;
</PRE>
<HR>
<!--[if supportFields]><span style='mso-element:field-begin'></span>
<span style='mso-spacerun:yes'></span>XE Pendulum<![endif]-->
<!--[if supportFields]><span style='mso-element:field-end'></span><![endif]-->
<H2><IMG SRC="FCSys.WorkInProgress.Blocks.Discrete.Plants.PendulumI.png" ALT="FCSys.WorkInProgress.Blocks.Discrete.Plants.Pendulum" ALIGN=RIGHT BORDER=1 WIDTH=80  HEIGHT=80 >
<A NAME="FCSys.WorkInProgress.Blocks.Discrete.Plants.Pendulum"></A><A HREF="FCSys_WorkInProgress_Blocks_Discrete_Plants.html#FCSys.WorkInProgress.Blocks.Discrete.Plants"
>FCSys.WorkInProgress.Blocks.Discrete.Plants</A>.Pendulum</H2>
<IMG SRC="FCSys.WorkInProgress.Blocks.Discrete.Plants.PendulumD.png" ALT="FCSys.WorkInProgress.Blocks.Discrete.Plants.Pendulum">
<P><H3>Information</H3></P>
Extends from <A HREF="FCSys_WorkInProgress_Blocks_Discrete_Plants_BaseClasses.html#FCSys.WorkInProgress.Blocks.Discrete.Plants.BaseClasses.PartialPlant"
>FCSys.WorkInProgress.Blocks.Discrete.Plants.BaseClasses.PartialPlant</A>.
<P><H3>Parameters</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Default</TH><TH>Description</TH></TR>
<TR><TD>&nbsp;</TD><TD>samplePeriod</TD><TD>&nbsp;</TD><TD>Sample period of species</TD></TR>
<TR><TD>&nbsp;</TD><TD>startTime</TD><TD>0</TD><TD>First sample time instant</TD></TR>
<TR><TD><A HREF="FCSys_WorkInProgress_Blocks_Discrete.html#FCSys.WorkInProgress.Blocks.Discrete.ZeroOrderHold"
>ZeroOrderHold</A></TD><TD>hold</TD><TD>redeclare FCSys.WorkInProgre...</TD><TD>&nbsp;</TD></TR>
<TR><TD><A HREF="file:////opt/dymola/Modelica/Library/Modelica 3.2/help/Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.FirstOrder"
>FirstOrder</A></TD><TD>antiAliasing[n_out]</TD><TD>redeclare Modelica.Blocks.Co...</TD><TD>&nbsp;</TD></TR>
</TABLE>
<P><H3>Connectors</H3><P>
<TABLE BORDER=1 CELLSPACING=0 CELLPADDING=2>
<TR><TH>Type</TH><TH>Name</TH><TH>Description</TH></TR>
<TR><TD>input <A HREF="FCSys_Connectors.html#FCSys.Connectors.RealInput"
>RealInput</A></TD><TD>u[n_in]</TD><TD>Connector of Real input signals</TD></TR>
<TR><TD>output <A HREF="FCSys_Connectors.html#FCSys.Connectors.RealOutput"
>RealOutput</A></TD><TD>y[n_out]</TD><TD>Connector of Real output signals</TD></TR>
</TABLE>
<P><H3>Modelica definition</H3>
<PRE>
<font color="blue">model</font> Pendulum
  <font color="blue">extends </font><A HREF="FCSys_WorkInProgress_Blocks_Discrete_Plants_BaseClasses.html#FCSys.WorkInProgress.Blocks.Discrete.Plants.BaseClasses.PartialPlant"
>FCSys.WorkInProgress.Blocks.Discrete.Plants.BaseClasses.PartialPlant</A>(<font color="blue">
      redeclare </font><A HREF="FCSys_WorkInProgress_Blocks_Continuous_Plants.html#FCSys.WorkInProgress.Blocks.Continuous.Plants.Pendulum"
>Continuous.Plants.Pendulum</A> plant);
<textblock type="annotcomp" expanded="false">
<font color="blue">end </font>Pendulum;
</PRE>
<HR>
<address>HTML-documentation generated by <a href="http://www.Dymola.com/">Dymola</a> Fri Mar 22 00:08:14 2013.
</address></BODY>
</HTML>
